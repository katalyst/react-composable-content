(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IntegrationExample});__webpack_require__(7),__webpack_require__(5),__webpack_require__(2),__webpack_require__(9),__webpack_require__(10);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_src_index__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_src_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var _ref=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",null,"Output"),_ref2=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,"This is an external ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("code",null,"pre")," tag that gets populated with the JSON data when it changes:"),IntegrationExample=function(_React$Component){function IntegrationExample(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,IntegrationExample),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(IntegrationExample).call(this,props)),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this),"updateContent",function(content){_this.props.sections?_this.setState({content:Object(_src_index__WEBPACK_IMPORTED_MODULE_6__.b)(content)}):_this.setState({content:content})}),_this.state={content:{}},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(IntegrationExample,react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(IntegrationExample,[{key:"render",value:function render(){var _this2=this,components=[];return this.props.sections&&components.push({name:"section",label:"Section",icon:"section",fields:[{name:"section_type",type:"select",data:["full-width","container","callout"]}]}),components.push({name:"example_component",label:"Example Component",fields:[{name:"string",label:"String field"}]}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_6__.a,{components:components,onCompositionChange:function onCompositionChange(content){return _this2.updateContent(content)},draftMode:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_7__}),_ref,_ref2,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("pre",null,JSON.stringify(this.state.content,null,2)))}}]),IntegrationExample}();IntegrationExample.displayName="IntegrationExample",IntegrationExample.__docgenInfo={description:"",methods:[{name:"updateContent",docblock:null,modifiers:[],params:[{name:"content",type:null}],returns:null}],displayName:"IntegrationExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/react-components/integration.jsx"]={name:"IntegrationExample",docgenInfo:IntegrationExample.__docgenInfo,path:"stories/react-components/integration.jsx"})},16:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"code",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-code">\n    <path class="icon--fill" d="M9.147,21.552a1.244,1.244,0,0,1-.895-.378L.84,13.561a2.257,2.257,0,0,1,0-3.125L8.252,2.823a1.25,1.25,0,0,1,1.791,1.744l-6.9,7.083a.5.5,0,0,0,0,.7l6.9,7.082a1.25,1.25,0,0,1-.9,2.122Z"></path>\n    <path class="icon--fill" d="M14.854,21.552a1.25,1.25,0,0,1-.9-2.122l6.9-7.083a.5.5,0,0,0,0-.7l-6.9-7.082a1.25,1.25,0,0,1,1.791-1.744l7.411,7.612a2.257,2.257,0,0,1,0,3.125l-7.412,7.614A1.244,1.244,0,0,1,14.854,21.552Zm6.514-9.373h0Z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"cog",function(){return'\n  <svg viewBox="0 0 25 25" class="icon-cog-filled">\n    <path class="icon--fill" d="M11.5308,16.0077 C9.3248,16.0077 7.5308,14.2137 7.5308,12.0077 C7.5308,9.8017 9.3248,8.0077 11.5308,8.0077 C13.7368,8.0077 15.5308,9.8017 15.5308,12.0077 C15.5308,14.2137 13.7368,16.0077 11.5308,16.0077 M23.0308,10.0077 L20.1758,10.0077 C19.9758,9.2177 19.7218,8.3407 19.3978,7.6767 L21.4298,5.6437 C21.5238,5.5497 21.5768,5.4227 21.5768,5.2897 C21.5768,5.1567 21.5238,5.0307 21.4298,4.9367 L18.6008,2.1087 C18.4058,1.9127 18.0898,1.9127 17.8938,2.1087 L15.8608,4.1407 C15.1968,3.8167 14.3198,3.5627 13.5308,3.3637 L13.5308,0.5077 C13.5308,0.2317 13.3068,0.0077 13.0308,0.0077 L10.0308,0.0077 C9.7548,0.0077 9.5308,0.2317 9.5308,0.5077 L9.5308,3.3637 C8.7408,3.5627 7.8638,3.8167 7.1998,4.1407 L5.1668,2.1087 C4.9708,1.9127 4.6548,1.9127 4.4598,2.1087 L1.6308,4.9367 C1.4358,5.1317 1.4358,5.4477 1.6308,5.6437 L3.6638,7.6767 C3.3418,8.3397 3.0858,9.2167 2.8848,10.0077 L0.0308,10.0077 C-0.2452,10.0077 -0.4692,10.2317 -0.4692,10.5077 L-0.4692,13.5077 C-0.4692,13.7837 -0.2452,14.0077 0.0308,14.0077 L2.8848,14.0077 C3.0858,14.7987 3.3418,15.6767 3.6638,16.3387 L1.6308,18.3717 C1.5368,18.4657 1.4838,18.5927 1.4838,18.7257 C1.4838,18.8587 1.5368,18.9857 1.6308,19.0787 L4.4598,21.9067 C4.6468,22.0947 4.9798,22.0947 5.1668,21.9067 L7.1988,19.8737 C7.8618,20.1977 8.7398,20.4527 9.5308,20.6537 L9.5308,23.5077 C9.5308,23.7837 9.7548,24.0077 10.0308,24.0077 L13.0308,24.0077 C13.3068,24.0077 13.5308,23.7837 13.5308,23.5077 L13.5308,20.6537 C14.3218,20.4527 15.1988,20.1977 15.8618,19.8747 L17.8948,21.9067 C18.0908,22.1027 18.4068,22.1027 18.6018,21.9067 L21.4298,19.0787 C21.6258,18.8837 21.6258,18.5677 21.4298,18.3717 L19.3978,16.3387 C19.7208,15.6767 19.9758,14.7987 20.1758,14.0077 L23.0308,14.0077 C23.3068,14.0077 23.5308,13.7837 23.5308,13.5077 L23.5308,10.5077 C23.5308,10.2317 23.3068,10.0077 23.0308,10.0077" vector-effect="non-scaling-stroke"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"comment",function(){return'\n  <svg viewBox=\'0 0 16 16\' class="icon-comment">\n    <path class="icon--fill" d="M8 3c-0.858 0-1.687 0.135-2.464 0.402-0.73 0.251-1.38 0.605-1.932 1.054-1.035 0.841-1.604 1.922-1.604 3.044 0 0.63 0.175 1.24 0.52 1.815 0.356 0.592 0.89 1.134 1.547 1.566 0.474 0.312 0.793 0.812 0.878 1.373 0.028 0.187 0.046 0.376 0.053 0.564 0.117-0.097 0.23-0.201 0.342-0.312 0.377-0.377 0.887-0.586 1.414-0.586 0.084 0 0.168 0.005 0.252 0.016 0.328 0.042 0.662 0.063 0.995 0.063 0.858 0 1.687-0.135 2.464-0.402 0.73-0.251 1.38-0.605 1.932-1.054 1.035-0.841 1.604-1.922 1.604-3.044s-0.57-2.203-1.604-3.044c-0.552-0.448-1.202-0.803-1.932-1.054-0.777-0.267-1.606-0.402-2.464-0.402zM8 1v0c4.418 0 8 2.91 8 6.5s-3.582 6.5-8 6.5c-0.424 0-0.841-0.027-1.247-0.079-1.718 1.718-3.77 2.027-5.753 2.072v-0.421c1.071-0.525 2-1.48 2-2.572 0-0.152-0.012-0.302-0.034-0.448-1.809-1.192-2.966-3.012-2.966-5.052 0-3.59 3.582-6.5 8-6.5z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"folder",function(){return'\n  <svg viewBox=\'0 0 16 16\' class="icon-folder">\n    <path class="icon--fill" d="M7 2l2 2h7v11h-16v-13z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"heading",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-code">\n    <path class="icon--fill" d="M19.556.359H4.444A2.2,2.2,0,0,0,2.25,2.554V4.443a1.25,1.25,0,0,0,2.5,0V3.109A.25.25,0,0,1,5,2.859h5.5a.25.25,0,0,1,.25.25V20.887a.25.25,0,0,1-.25.25H8.694a1.25,1.25,0,0,0,0,2.5h6.612a1.25,1.25,0,1,0,0-2.5H13.5a.25.25,0,0,1-.25-.25V3.109a.25.25,0,0,1,.25-.25H19a.25.25,0,0,1,.25.25V4.443a1.25,1.25,0,0,0,2.5,0V2.554A2.2,2.2,0,0,0,19.556.359Z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"hidden",function(){return'\n  <svg viewBox="0 0 16 16">\n    <path class="icon--fill" d="M14.78 0.22c-0.293-0.293-0.768-0.293-1.061 0l-3.159 3.159c-0.812-0.246-1.671-0.378-2.561-0.378-3.489 0-6.514 2.032-8 5 0.643 1.283 1.573 2.391 2.703 3.236l-2.484 2.484c-0.293 0.293-0.293 0.768 0 1.061 0.146 0.146 0.338 0.22 0.53 0.22s0.384-0.073 0.53-0.22l13.5-13.5c0.293-0.293 0.293-0.768 0-1.061zM6.5 5c0.66 0 1.22 0.426 1.421 1.019l-1.902 1.902c-0.592-0.201-1.019-0.761-1.019-1.421 0-0.828 0.672-1.5 1.5-1.5zM1.721 8c0.598-0.946 1.395-1.749 2.335-2.348 0.061-0.039 0.123-0.077 0.185-0.114-0.156 0.427-0.241 0.888-0.241 1.369 0 0.858 0.27 1.652 0.73 2.303l-0.952 0.952c-0.819-0.576-1.519-1.311-2.057-2.162z"></path>\n    <path class="icon--fill" d="M12 6.906c0-0.424-0.066-0.833-0.189-1.217l-5.028 5.028c0.384 0.123 0.793 0.189 1.217 0.189 2.209 0 4-1.791 4-4z"></path>\n    <path class="icon--fill" d="M12.969 4.531l-1.084 1.084c0.020 0.012 0.040 0.024 0.059 0.037 0.94 0.6 1.737 1.403 2.335 2.348-0.598 0.946-1.395 1.749-2.335 2.348-1.181 0.753-2.545 1.152-3.944 1.152-0.604 0-1.202-0.074-1.781-0.219l-1.201 1.201c0.933 0.335 1.937 0.518 2.982 0.518 3.489 0 6.514-2.032 8-5-0.703-1.405-1.752-2.6-3.031-3.469z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"image",function(){return'\n  <svg viewBox=\'0 0 16 16\' class="icon-image">\n    <path class="icon--fill" d="M14.998 2c0.001 0.001 0.001 0.001 0.002 0.002v11.996c-0.001 0.001-0.001 0.001-0.002 0.002h-13.996c-0.001-0.001-0.001-0.001-0.002-0.002v-11.996c0.001-0.001 0.001-0.001 0.002-0.002h13.996zM15 1h-14c-0.55 0-1 0.45-1 1v12c0 0.55 0.45 1 1 1h14c0.55 0 1-0.45 1-1v-12c0-0.55-0.45-1-1-1v0z"></path>\n    <path class="icon--fill" d="M13 4.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5 0.672-1.5 1.5-1.5 1.5 0.672 1.5 1.5z"></path>\n    <path class="icon--fill" d="M14 13h-12v-2l3.5-6 4 5h1l3.5-3z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"listing_block",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-list-blocks">\n    <path class="icon--fill" d="M8,0H3A3,3,0,0,0,0,3V8a3,3,0,0,0,3,3H8a3,3,0,0,0,3-3V3A3,3,0,0,0,8,0ZM9,8A1,1,0,0,1,8,9H3A1,1,0,0,1,2,8V3A1,1,0,0,1,3,2H8A1,1,0,0,1,9,3Z"></path>\n    <path class="icon--fill" d="M8,13H3a3,3,0,0,0-3,3v5a3,3,0,0,0,3,3H8a3,3,0,0,0,3-3V16A3,3,0,0,0,8,13Zm1,8a1,1,0,0,1-1,1H3a1,1,0,0,1-1-1V16a1,1,0,0,1,1-1H8a1,1,0,0,1,1,1Z"></path>\n    <path class="icon--fill" d="M14.246,3h9a.75.75,0,0,0,0-1.5h-9a.75.75,0,1,0,0,1.5Z"></path>\n    <path class="icon--fill" d="M23.249,4.5h-9a.75.75,0,0,0,0,1.5h9a.75.75,0,0,0,0-1.5Z"></path>\n    <path class="icon--fill" d="M23.249,7.5h-9a.75.75,0,0,0,0,1.5h9a.75.75,0,1,0,0-1.5Z"></path>\n    <path class="icon--fill" d="M23.249,14.5h-9a.75.75,0,0,0,0,1.5h9a.75.75,0,0,0,0-1.5Z"></path>\n    <path class="icon--fill" d="M23.249,17.5h-9a.75.75,0,1,0,0,1.5h9a.75.75,0,0,0,0-1.5Z"></path>\n    <path class="icon--fill" d="M23.249,20.5h-9a.75.75,0,1,0,0,1.5h9a.75.75,0,0,0,0-1.5Z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"menu",function(){return'\n  <svg viewBox=\'0 0 16 16\' class="icon-menu">\n    <path class="icon--fill" d="M1 3h14v3h-14zM1 7h14v3h-14zM1 11h14v3h-14z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"module",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-module">\n    <ellipse class="icon--fill" cx="12" cy="9.272" rx="3" ry="1.5"></ellipse>\n    <ellipse class="icon--fill" cx="12" cy="3.772" rx="3" ry="1.5"></ellipse>\n    <ellipse class="icon--fill" cx="18.5" cy="6.272" rx="3" ry="1.5"></ellipse>\n    <ellipse class="icon--fill" cx="6" cy="6.272" rx="3" ry="1.5"></ellipse>\n    <path class="icon--fill" d="M.9,17.492l9.649,4.2a.5.5,0,0,0,.7-.458v-8a.5.5,0,0,0-.3-.459L.7,8.313a.5.5,0,0,0-.7.459v7.344A1.5,1.5,0,0,0,.9,17.492Z"></path>\n    <path class="icon--fill" d="M12.75,13.228v8a.5.5,0,0,0,.7.458l9.65-4.2a1.5,1.5,0,0,0,.9-1.375V8.772a.5.5,0,0,0-.7-.459l-10.25,4.456A.5.5,0,0,0,12.75,13.228Z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"paragraph_with_image",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-paragraph">\n    <path class="icon--fill" d="M16,22H1a1,1,0,0,0,0,2H16a1,1,0,0,0,0-2Z"></path>\n    <path class="icon--fill" d="M23,17H1a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"></path>\n    <path class="icon--fill" d="M23,12H1a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"></path>\n    <path class="icon--fill" d="M23,7H13a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"></path>\n    <path class="icon--fill" d="M13,4H23a1,1,0,0,0,0-2H13a1,1,0,1,0,0,2Z"></path>\n    <rect class="icon--fill" y="-0.002" width="10" height="10" rx="2" ry="2"></rect>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"paragraph",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-paragraph">\n    <path class="icon--fill" d="M14.863,23.271H1.5a1.25,1.25,0,0,1,0-2.5H14.863a1.25,1.25,0,0,1,0,2.5Z"></path>\n    <path class="icon--fill" d="M22.5,3.225H1.5a1.25,1.25,0,0,1,0-2.5h21a1.25,1.25,0,0,1,0,2.5Z"></path>\n    <path class="icon--fill" d="M22.5,9.907H1.5a1.25,1.25,0,0,1,0-2.5h21a1.25,1.25,0,0,1,0,2.5Z"></path>\n    <path class="icon--fill" d="M22.5,16.588H1.5a1.25,1.25,0,0,1,0-2.5h21a1.25,1.25,0,1,1,0,2.5Z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"section",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-composable-section">\n    <path class="icon--fill" d="M9,0H2A2,2,0,0,0,0,2V9a1,1,0,0,0,1,1H2A1,1,0,0,0,3,9V3.5A.5.5,0,0,1,3.5,3H9a1,1,0,0,0,1-1V1A1,1,0,0,0,9,0Z"></path>\n    <path class="icon--fill" d="M22,0H15a1,1,0,0,0-1,1V2a1,1,0,0,0,1,1h5.5a.5.5,0,0,1,.5.5V9a1,1,0,0,0,1,1h1a1,1,0,0,0,1-1V2A2,2,0,0,0,22,0Z"></path>\n    <path class="icon--fill" d="M9,21H3.5a.5.5,0,0,1-.5-.5V15a1,1,0,0,0-1-1H1a1,1,0,0,0-1,1v7a2,2,0,0,0,2,2H9a1,1,0,0,0,1-1V22A1,1,0,0,0,9,21Z"></path>\n    <path class="icon--fill" d="M23,14H22a1,1,0,0,0-1,1v5.5a.5.5,0,0,1-.5.5H15a1,1,0,0,0-1,1v1a1,1,0,0,0,1,1h7a2,2,0,0,0,2-2V15A1,1,0,0,0,23,14Z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"stack",function(){return'\n  <svg viewBox=\'0 0 16 16\' class="icon-stack">\n    <path class="icon--fill" d="M16 5l-8-4-8 4 8 4 8-4zM8 2.328l5.345 2.672-5.345 2.672-5.345-2.672 5.345-2.672zM14.398 7.199l1.602 0.801-8 4-8-4 1.602-0.801 6.398 3.199zM14.398 10.199l1.602 0.801-8 4-8-4 1.602-0.801 6.398 3.199z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"user",function(){return'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-code">\n    <circle class="icon--fill" cx="12" cy="6.25" r="5.5"></circle>\n    <path class="icon--fill" d="M12,13.25a9.511,9.511,0,0,0-9.5,9.5.5.5,0,0,0,.5.5H21a.5.5,0,0,0,.5-.5A9.511,9.511,0,0,0,12,13.25Z"></path>\n  </svg>\n'}),__webpack_require__.d(__webpack_exports__,"visible",function(){return'\n  <svg viewBox=\'0 0 16 16\' class="icon-visible">\n    <path class="icon--fill" d="M8 3c-3.489 0-6.514 2.032-8 5 1.486 2.968 4.511 5 8 5s6.514-2.032 8-5c-1.486-2.968-4.511-5-8-5zM11.945 5.652c0.94 0.6 1.737 1.403 2.335 2.348-0.598 0.946-1.395 1.749-2.335 2.348-1.181 0.753-2.545 1.152-3.944 1.152s-2.763-0.398-3.945-1.152c-0.94-0.6-1.737-1.403-2.335-2.348 0.598-0.946 1.395-1.749 2.335-2.348 0.061-0.039 0.123-0.077 0.185-0.114-0.156 0.427-0.241 0.888-0.241 1.369 0 2.209 1.791 4 4 4s4-1.791 4-4c0-0.481-0.085-0.942-0.241-1.369 0.062 0.037 0.124 0.075 0.185 0.114v0zM8 6.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5 0.672-1.5 1.5-1.5 1.5 0.672 1.5 1.5z"></path>\n  </svg>\n'})},215:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ComposableFieldCustom});__webpack_require__(7),__webpack_require__(5),__webpack_require__(28),__webpack_require__(2),__webpack_require__(9),__webpack_require__(10),__webpack_require__(117),__webpack_require__(50);var react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),react_final_form__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ComposableFieldCustom=function(_React$Component){function ComposableFieldCustom(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldCustom);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(ComposableFieldCustom)).call.apply(_getPrototypeOf2,[this].concat(args))),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this),"handleChange",function(){var lastName=_this.$lastName.value,name=_this.$firstName.value;lastName&&(name="".concat(lastName,",").concat(name)),_this.props.helpers.setFieldValue(_this.$hiddenField,name)}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ComposableFieldCustom,react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldCustom,[{key:"componentDidMount",value:function componentDidMount(){var currentValue=this.props.helpers.getFieldValue(this.$hiddenField);if(-1<currentValue.indexOf(",")){var split=currentValue.split(",");this.$lastName.value=split[0],1<split.length&&(this.$firstName.value=split[1])}else this.$firstName.value=currentValue}},{key:"render",value:function render(){var _this2=this;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"form--field-wrapper"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("input",{type:"text",placeholder:"First name",onChange:this.handleChange,ref:function ref(element){return _this2.$firstName=element}}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("input",{type:"text",placeholder:"Last name",onChange:this.handleChange,ref:function ref(element){return _this2.$lastName=element}}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_final_form__WEBPACK_IMPORTED_MODULE_9__.a,_extends({component:"input",type:"hidden",ref:function ref(element){return _this2.$hiddenField=element}},this.props.helpers.generateFieldAttributes(this.props))))}}]),ComposableFieldCustom}();ComposableFieldCustom.displayName="ComposableFieldCustom",ComposableFieldCustom.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ComposableFieldCustom"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/react-components/ComposableFieldCustom.jsx"]={name:"ComposableFieldCustom",docgenInfo:ComposableFieldCustom.__docgenInfo,path:"stories/react-components/ComposableFieldCustom.jsx"})},218:function(module,exports,__webpack_require__){__webpack_require__(219),__webpack_require__(305),module.exports=__webpack_require__(306)},306:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(22),__webpack_require__(23),__webpack_require__(17),__webpack_require__(27);var _storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(38),req=__webpack_require__(372);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.addParameters)({options:{showPanel:!1,panelPosition:"right"}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(109)(module))},35:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getDemoComponents});__webpack_require__(18),__webpack_require__(165),__webpack_require__(15);var demoComponents=[{name:"component1",label:"Component 1",icon:"user",fields:[{name:"first_name",label:"First name"},{name:"last_name",label:"Last name"}]},{name:"component2",label:"Component 2",icon:"stack",fields:[{name:"number",label:"Number of items",type:"select",data:[1,2,3,4,5,6]},{name:"is_active",label:"Active",type:"boolean"}]},{name:"component3",label:"Component 3",icon:"paragraph",fields:[{name:"heading",label:"Heading"},{name:"body",label:"Content",type:"textarea"}]}],getDemoComponents=function(names){return names.map(function(name){return demoComponents.find(function(component){return component.name===name})})}},372:function(module,exports,__webpack_require__){var map={"./index.stories.js":373};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=372},373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(27),__webpack_require__(31),__webpack_require__(5),__webpack_require__(22),__webpack_require__(23),__webpack_require__(17),__webpack_require__(34),__webpack_require__(2),__webpack_require__(15),__webpack_require__(119);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),_storybook_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(38),_story_helpers__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(374),__webpack_require__(35)),_src_index__WEBPACK_IMPORTED_MODULE_15__=(__webpack_require__(377),__webpack_require__(8)),_src_icons__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(16),_react_components_integration__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(128),_react_components_ComposableFieldCustom__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(215);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Wrapper=function(props){var propsCode=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({},props.componentProps);return propsCode.icons&&(propsCode.icons="%%ICONS%%"),propsCode=(propsCode=JSON.stringify(propsCode,null,2)).replace('"%%ICONS%%"',"icons"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{padding:"20px 40px"}},props.title&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h1",{className:"heading-one"},props.title),props.intro&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:"intro",dangerouslySetInnerHTML:{__html:props.intro}}),props.componentProps&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("details",null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("summary",null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h2",{style:{display:"inline"}},"Props")),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("pre",{className:"code-pre"},propsCode)),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("hr",{style:{height:"1px",border:"0",background:"#ccc",margin:"1rem 0"}}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{marginTop:"1rem"}},react__WEBPACK_IMPORTED_MODULE_10___default.a.Children.map(props.children,function(child){return react__WEBPACK_IMPORTED_MODULE_10___default.a.cloneElement(child,props.componentProps)})))};Wrapper.displayName="Wrapper";var _ref=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref2=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref3=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref4=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref5=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref6=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref7=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref8=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref9=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref10=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Composition settings",module).add("Basic",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Basic",intro:"<p>A really basic implementation with no config, just an array of components</p>",componentProps:{components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1"]),debug:!0}},_ref)}).add("Existing data",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Existing data",intro:"<p>You can provide a <code>composition</code> prop with the JSON data to show existing data:</p>",componentProps:{composition:{main:[{id:1558273755811,component_type:"component1",component_collapsed:!1,component_draft:!1,advanced:{},data:{first_name:"Test",last_name:"Name"}}]},components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1"]),debug:!0}},_ref2)}).add("White-listing components",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"White-listing components",intro:"<p>You can use the <code>config</code> prop to white-list which components the user is allowed to use. Here we are passing in three components but only white-listing one. This will become relevant if you start using groups.</p>",componentProps:{config:{main:["component2"]},components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1","component2","component3"]),debug:!0}},_ref3)}).add("Icons",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Icons",intro:"\n        <p>By adding icons you can now assign icons to each component and various UI buttons will show their icons now too.</p>\n        <p>Import the icons in to your application:</p>\n        <pre>import * as icons from 'react-composable-content/icons'</pre>\n      ",componentProps:{config:{main:["component1","component2","component3"]},components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1","component2","component3"]),debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref4)}).add("Groups",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Groups",intro:"<p>You can create as many groups as you like to manage composable content for various sections of your page. You can white-list components to only certain groups.</p>",componentProps:{config:{main:["component1","component2","component3"],sidebar:["component2"]},components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1","component2","component3"]),debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref5)}).add("Advanced settings",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Advanced Settings",intro:"<p>Advanced settings are extra fields that appear on each component, accessible under the new advanced settings cog.</p>",componentProps:{advancedSettings:[{name:"css_class",label:"Class (CSS)"},{name:"visible",label:"Visible to public",type:"boolean"}],components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1","component2","component3"]),debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref6)}).add("Draft mode",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Draft mode",intro:"\n        <p>Draft mode will let the user mark components in their composition as draft. This will add a <code>component_draft</code> flag in the JSON data.</p>\n        <p>Developers can use this flag to only conditionally or optionally render those components on their page.</p>\n      ",componentProps:{draftMode:!0,components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1","component2","component3"]),debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref7)}).add("Missing component template",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Missing component template",intro:"<p>Whenever your config uses an undefined component type, the UI will show that it's missing in the component picker and when you place it in to your composition there will be a friendly error message.</p>",componentProps:{config:{main:["component1","broken"]},components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1"]),debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref8)}).add("Translations",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Translations",intro:"\n        <p>The <code>lang</code> prop can be used to override certain labels and messaging.</p>\n        <p>Current options:</p>\n        <table class='table'>\n          <thead>\n            <tr>\n              <th>Key</th>\n              <th>Description</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>emptyComposition</td>\n              <td>The message that appears in the composition area when there are no components</td>\n            </tr>\n            <tr>\n              <td>collapseAll</td>\n              <td>Label for the collapse all button</td>\n            </tr>\n            <tr>\n              <td>revealAll</td>\n              <td>Label for the reveal all button</td>\n            </tr>\n            <tr>\n              <td>remove</td>\n              <td>Label for the remove button in the component header</td>\n            </tr>\n            <tr>\n              <td>draftModeBanner</td>\n              <td>The message that appears when a component is in draft mode</td>\n            </tr>\n          </tbody>\n        </table>\n      ",componentProps:{components:Object(_story_helpers__WEBPACK_IMPORTED_MODULE_13__.a)(["component1"]),lang:{emptyComposition:"Your composition is empty, drag a component here to start editing!",collapseAll:"Collapse all those components",revealAll:"Or not, whatever",remove:"Get rid of this component",draftModeBanner:"This component is in draft mode"},draftMode:!0,debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref9)}).add("Sections",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Sections",intro:'\n        <p>Composable content doesn\'t have any concept of nesting components but it can be enhanced with a "section" component that can be used to group things together when rendering.</p>\n      ',componentProps:{components:[{name:"section",label:"Section",icon:"section",fields:[{name:"section_type",type:"select",data:["full-width","container","callout"]}]},{name:"text",label:"Text",icon:"paragraph",fields:[{name:"text",type:"textarea"}]}],debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref10)});var _ref11=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref12=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Component settings",module).add("Messages",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Messages",intro:"<p>Messages appear at the top of components, they do not get saved in the JSON as they are UI only</p>",componentProps:{components:[{name:"example",label:"Example with message",message:"This is some user-facing information about this component to help them understand the purpose of it.",fields:[{name:"boolean",type:"boolean",label:"Yes?"}]}],debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref11)}).add("No fields",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"No fields",intro:"\n        <p>When a component is configured with no fields, the user will see a message saying that the component doesn't require any configuration. This is perfectly fine and has been a valid use-case for things that need to appear in the content but is either hardcoded or represents something that isn't editable eg. Adwords banner</p>\n        <p>By adding the <code>message</code> prop as well, you can override the default message.</p>\n      ",componentProps:{components:[{name:"no_config",label:"No configuration"},{name:"no_config_with_message",label:"Custom message",message:"This component really doesn't need any configuration at all"}],debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref12)});var _ref13=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref14=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref15=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref16=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Composable fields",module).add("Field options",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Field options",intro:"<p>A demo of various options you can pass to fields.</p>",componentProps:{components:[{name:"example",label:"Example",fields:[{name:"hint",label:"This field has a hint",hint:"This is a hint message"},{name:"default_value",label:"This field has a default value of 5",defaultValue:"5"},{name:"placeholder",label:"This field has a placeholder",placeholder:"This is a placeholder"},{name:"number",label:"This is a number field with a min of 1 and max of 20",fieldAttributes:{type:"number",min:1,max:20}},{name:"custom_styles",label:"This field has a custom style attribute",fieldAttributes:{style:{border:"10px solid blue",padding:"1rem"}}}]}],debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref13)}).add("Collections",function(){var objectDemo=[{label:"one",value:1},{label:"two",value:2},{label:"three",value:3}],arrayDemo=["one","two","three"];return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Collections",intro:"<p>A demo of a component that has a series of checkboxes, radio buttons and a select menu</p>",componentProps:{components:[{name:"array",label:"Array collections",icon:"stack",message:"These are collections whose data is just a flat array, the value and user-facing label is the same.",fields:[{name:"radios",label:"Radio Buttons",type:"radio_buttons",data:arrayDemo},{name:"checkboxes",label:"Checkboxes",type:"check_boxes",data:arrayDemo},{name:"select",label:"Select menu",type:"select",data:arrayDemo}]},{name:"object",label:"Object collections",icon:"folder",message:"These are collections whose data is an object made of a <code>label</code> for the user-facing value, and a different <code>value</code> that is saved to the JSON.",fields:[{name:"radios",label:"Radio Buttons",type:"radio_buttons",data:objectDemo},{name:"checkboxes",label:"Checkboxes",type:"check_boxes",data:objectDemo},{name:"select",label:"Select menu",type:"select",data:objectDemo}]}],debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref14)}).add("Repeater",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Repeater fields",intro:"<p>Using the <code>repeater</code> field type and <code>fields</code> you can create a simple repeater field.</p>",componentProps:{components:[{name:"gallery",label:"Gallery",icon:"image",fields:[{name:"gallery",label:"Gallery Images",type:"repeater",fields:[{name:"image_url",label:"Image URL"}]}]}],debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref15)}).add("Conditional fields",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Conditional fields",intro:"\n        <p>You can make fields conditional by using the <code>condition</code> property in the field. Conditions need a <code>when</code> and <code>is</code> property.</p>\n        <p>eg. <code>{ when: 'user_name', is: 'Barry' }</code> will render the field when the field 'user_name' has the value 'Barry'.</p>\n        <p>This feature is based on the <a href='https://codesandbox.io/s/lm4p3m92q' target='_blank'>react-final-form conditional fields demo</a>.</p>\n        <p>Conditionals are only for editing and don't affect the JSON output.</p>\n      ",componentProps:{components:[{name:"example",label:"Conditional Example",fields:[{name:"show_hidden",label:"Show hidden field",type:"boolean"},{name:"hidden_field",label:"This field only appears when the above is ticked",condition:{when:"show_hidden",is:!0}}]}],debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}},_ref16)}).add("Custom field types",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Custom field types",intro:"\n        <p>You can create your own field components and make them available to your composable content by using the <code>customFormFieldComponents</code> prop.</p>\n        <p>Here we have a custom field type that renders two input fields side by side. It takes the first name and last name and saves the as \"LastName,FirstName\" via the setFieldValue helper.</p>\n        <p>We also have a prefilled component showing that you can use getFieldValue to take the formatted version, split it back out in to the two values and populate the inputs.</p>\n        <pre class='code-pre'>\nimport ComposableFieldExample from './ComposableFieldExample';\n\n&lt;ComposableContent\n  customFormFieldComponents={{\n    ComposableFieldCustom,\n  }}\n/></pre>\n      "},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,{composition:{main:[{id:1,component_type:"example",data:{name:"Doe,John"}}]},components:[{name:"example",label:"Custom field example",fields:[{name:"name",label:"This is a custom field renderer",type:"custom"}]}],customFormFieldComponents:{ComposableFieldCustom:_react_components_ComposableFieldCustom__WEBPACK_IMPORTED_MODULE_18__.a},debug:!0,icons:_src_icons__WEBPACK_IMPORTED_MODULE_16__}))});var _ref17=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref18=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null),_ref19=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_15__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Validations",module).add("Field validations",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Field validations",intro:"\n        <p>Validations can be defined on fields with the <code>validations</code> prop.</p>\n        <p>Field validations will be triggered whenever blurring fields.</p>\n      ",componentProps:{components:[{name:"example",label:"Field validation",hint:"This field is required",fields:[{name:"first_name",label:"First name",validations:["required"]}]}]}},_ref17)}).add("Component validations",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"Component validations",intro:"\n        <p>Validations can be defined on components with the <code>validations</code> prop.</p>\n        <p>Component validations can be used to validate various fields together as a whole.</p>\n      ",componentProps:{components:[{name:"example",label:"Component validation",hint:"This field is required",validations:["anyValues"],message:"This component uses the <code>anyValues</code> validations to check that any fields were present.",fields:[{name:"phone_number",label:"Phone number"},{name:"mobile_number",label:"Mobile number"}]}]}},_ref18)}).add("External validations",function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"External validations",intro:"\n          <p>Each component can be programatically validated with a custom event <code>composable-content:validate</code></p>\n          <pre class='code-pre'>\nvar validationEvent = new CustomEvent(\"composable-content:validate\");\ndocument.dispatchEvent(validationEvent);</pre>\n        ",componentProps:{components:[{name:"example",label:"Component validation",hint:"This field is required",fields:[{name:"first_name",label:"First name",validations:["required"]}]}]}},_ref19,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("button",{type:"button",onClick:function onClick(){return validationEvent=new CustomEvent("composable-content:validate"),void document.dispatchEvent(validationEvent);var validationEvent}},"Validate button outside of component"))});var _ref20=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"onCompositionChange",intro:"\n        <p><code>onCompositionChange</code> is a callback prop you can use to do something whenever the composition JSON changes.</p>\n        <pre class='code-pre'>\nupdateComposition = composition => {\n  this.setState({\n    composition\n  })\n}\n\nrender(){\n  return(\n    &lt;div>\n      &lt;ComposableContent\n        onCompositionChange={composition => this.updateComposition(composition)}\n      />\n\n      &lt;pre>{JSON.stringify(this.state.composition, null, 2)}&lt;/pre>\n    &lt;/div>\n  }\n}</pre>\n      "},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_react_components_integration__WEBPACK_IMPORTED_MODULE_17__.a,null)),_ref21=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapper,{title:"sectionifier helper",intro:"\n      <p>If you're using section components you can use the <code>sectionifier</code> helper to automatically group your JSON data in to sections for you.</p>\n      <p>Each group (by deafult, just \"main\") will now have a top-level array of section components with <code>section_type</code> describing what sort of section it is and <code>section_data</code> listing the components that live in that section.</p>\n      <pre class='code-pre'>\nimport ComposableContent, { sectionifier } from 'react-composable-content';\n\nupdateComposition = composition => {\n  this.setState({\n    composition: sectionifier(composition),\n  })\n}\n\nrender(){\n  return(\n    &lt;div>\n      &lt;ComposableContent\n        onCompositionChange={composition => this.updateComposition(composition)}\n      />\n\n      &lt;pre>{JSON.stringify(this.state.composition, null, 2)}&lt;/pre>\n    &lt;/div>\n  }\n}</pre>\n      <p>If the first component does not have a section above it, a new section will be automatically created for it using the default fallback of \"container\", this of course can be overridden in the second parameter which is an object of additional options:</p>\n      <pre class='code-pre'>\nsectionifier(composition, {\n  defaultSection: \"my-custom-fallback\",\n});</pre>\n      <p>Use the <code>includeDrafts: true</code> option to include draft components. Drafts are ignored by default.</p>\n    "},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_react_components_integration__WEBPACK_IMPORTED_MODULE_17__.a,{sections:!0}));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Integration",module).add("onCompositionChange",function(){return _ref20}).add("sectionifier helper",function(){return _ref21})}.call(this,__webpack_require__(109)(module))},374:function(module,exports,__webpack_require__){var content=__webpack_require__(375);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(190)(content,options);content.locals&&(module.exports=content.locals)},375:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(189)(!1)).push([module.i,"body {\n  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;\n  font-size:1rem;\n  line-height:1.25;\n  color:#222\n}\n\ncode {\n  background: #eee;\n  padding: .25rem;\n  border-radius: 4px;\n  text-shadow: 1px 1px #fff;\n}\n\n.code-pre {\n  padding: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  overflow-x: auto;\n}\n\n.table {\n  border: 1px solid #ccc;\n  border-collapse: collapse;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n\n.table th,\n.table td {\n  padding: 1rem;\n  border: 1px solid #ccc;\n}\n\n.table th {\n  text-align: left;\n}",""])},377:function(module,exports,__webpack_require__){var content=__webpack_require__(378);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(190)(content,options);content.locals&&(module.exports=content.locals)},378:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(189)(!1)).push([module.i,'.composable {\n  display: flex;\n  max-width: 800px;\n}\n\n.composable svg {\n  display: block;\n}\n\n/*\n\n  Tabs\n\n*/\n\n.tabs--links ul,\n.tabs--links li {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n.tabs--links ul {\n  display: flex;\n  margin-bottom: 1rem;\n  border-bottom: 1px solid grey;\n}\n\n.tabs--links li + li {\n  margin-left: .25rem;\n}\n\n.tabs--link {\n  border: 1px solid grey;\n  border-bottom: 0;\n  background: transparent;\n  padding: .5rem;\n}\n\n.tabs--link.active {\n  background: #eee;\n}\n\n/*\n\n  Header\n\n*/\n\n.composable--header {\n  display: flex;\n  margin-bottom: .5rem;\n}\n\n.composable--header button {\n  background: none;\n  padding: .5rem;\n  border: 1px solid grey;\n}\n\n.composable--header button + button {\n  margin-left: .25rem;\n}\n\n/*\n\n  Library\n\n*/\n\n.composable--library {\n  margin-left: auto;\n  min-width: 250px;\n  position: relative;\n}\n\n.composable--library > div {\n  border: 1px solid grey;\n  padding: 1rem;\n  padding-bottom: 0;\n}\n\n.composable--library--component {\n  border: 1px solid grey;\n  padding: 1rem;\n  display: flex;\n  align-items: center;\n}\n\n.composable--component--meta--label-icon,\n.composable--library--icon {\n  margin-right: 1rem;\n}\n\n.composable--component--meta--label-icon svg,\n.composable--library--icon svg {\n  width: 1rem;\n}\n\n.composable--component--meta--label-icon .icon--fill,\n.composable--library--icon .icon--fill {\n  fill: grey;\n}\n\n/*\n\n  Composition\n\n*/\n\n.composable--composition--empty {\n  padding: 2rem;\n  border: 1px solid grey;\n}\n\n.composable--composition--drag-space {\n  outline: 2px dashed orange;\n  outline-offset: 4px;\n}\n\n\n.composable--composition {\n  flex: 1 1 auto;\n  padding-right: 2rem;\n}\n\n/*\n\n  Components\n\n*/\n\n.composable--component__dragging {\n  box-shadow: 0 .5rem 2rem rgba(0,0,0,0.25)\n}\n\n.composable--component--wrapper {\n  margin-bottom: 1rem;\n}\n\n.composable--component,\n.composable--library--component {\n  border: 1px solid grey;\n  background: white;\n}\n\n.composable__with-sections .composable--component:not(.composable--component__section) {\n  margin-left: 1rem;\n}\n\n.composable--component--draft-banner {\n  border-bottom: 1px solid grey;\n  padding: .25rem 1rem;\n}\n\n.composable--component--meta {\n  display: flex;\n  border-bottom: 1px solid grey;\n}\n\n.composable--component--meta--label {\n  display: flex;\n  align-items: center;\n}\n\n.composable--component--meta--label,\n.composable--component--meta--action {\n  padding: 1rem;\n}\n\n.composable--component--preview {\n  margin-right: auto;\n  flex: 1 1 auto;\n  position: relative;\n}\n\n/* Position absolute to avoid issues flexbox children + white-space: nowrap */\n.composable--component--preview > div {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 1rem;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n}\n\n.composable--component--preview > div > span {\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.composable--component--meta button,\n.composable--component--meta--drag {\n  background: transparent;\n  border: 0;\n  border-left: 1px solid grey;\n}\n\n.composable--component--meta--collapser {\n  width: 44px;\n  flex: 0 0 auto;\n  position: relative;\n}\n\n.composable--component--meta--collapser::before {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  border: 8px solid transparent;\n  border-bottom-color: grey;\n  border-top-width: 0;\n  margin-left: -8px;\n  margin-top: -4px;\n  transition: -webkit-transform .2s;\n  transition: transform .2s;\n  transition: transform .2s, -webkit-transform .2s;\n}\n\n.composable--component__collapsed .composable--component--meta--collapser::before {\n  -webkit-transform: rotateZ(180deg);\n          transform: rotateZ(180deg);\n}\n\n.composable--component--meta--icon,\n.composable--component--meta--drag {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 44px;\n  flex: 0 0 auto;\n  text-shadow: 1px 1px 0 rgba(255,255,255,.25);\n}\n\n.composable--component--meta--icon svg {\n  height: 24px;\n}\n\n.composable--component--meta--icon span {\n  display: block;\n}\n\n.composable--component--meta--icon .icon--fill {\n  fill: grey;\n}\n\n.composable--component--meta--drag {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.composable--component--message,\n.composable--component--advanced,\n.composable--component--body {\n  padding: 1rem;\n}\n\n.composable--component--message + .composable--component--body {\n  border-top: 1px solid grey;\n}\n\n.composable--component--body .inputs > * + *,\n.composable--component--advanced .inputs > * + * {\n  margin-top: 1rem;\n}\n\n/*\n\n  Repeater fields\n\n*/\n\n.composable--repeater-field .inputs {\n  margin-left: 1rem;\n}',""])},8:function(module,__webpack_exports__,__webpack_require__){"use strict";var ComposableFieldTypes_namespaceObject={};__webpack_require__.r(ComposableFieldTypes_namespaceObject),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldAutocomplete",function(){return ComposableFieldAutocomplete_ComposableFieldAutocomplete}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldBoolean",function(){return ComposableFieldBoolean_ComposableFieldBoolean}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldCheckboxes",function(){return ComposableFieldCheckboxes_ComposableFieldCheckboxes}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldNumber",function(){return ComposableFieldNumber_ComposableFieldNumber}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldRadiobuttons",function(){return ComposableFieldRadiobuttons_ComposableFieldRadiobuttons}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldRange",function(){return ComposableFieldRange_ComposableFieldRange}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldRepeater",function(){return ComposableFieldRepeater_ComposableFieldRepeater}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldSelect",function(){return ComposableFieldSelect_ComposableFieldSelect}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldString",function(){return ComposableFieldString_ComposableFieldString}),__webpack_require__.d(ComposableFieldTypes_namespaceObject,"ComposableFieldTextarea",function(){return ComposableFieldTextarea_ComposableFieldTextarea});__webpack_require__(7),__webpack_require__(5),__webpack_require__(2),__webpack_require__(9),__webpack_require__(10),__webpack_require__(15),__webpack_require__(159),__webpack_require__(160),__webpack_require__(17);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_beautiful_dnd_esm=(__webpack_require__(31),__webpack_require__(44)),final_form_es=(__webpack_require__(79),__webpack_require__(50),__webpack_require__(379),__webpack_require__(27),__webpack_require__(22),__webpack_require__(23),__webpack_require__(34),__webpack_require__(18),__webpack_require__(113),__webpack_require__(154),__webpack_require__(183),__webpack_require__(14));function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var presence=function(props){if(!props.value)return"Required"},atLeastOne=function(props){if(!props.value.length)return"Must have at least one"},anyValues=function(props){var values=props.values,valueArray=Object.values(values);if(0===valueArray.length||0===valueArray.filter(function(value){return!!value}).length)return"Please fill in at least one field"},validationRules={},setupValidationRules=function(validations){return validationRules=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({},{required:presence,atLeastOne:atLeastOne,anyValues:anyValues},validations)},validateField=function(fields,field,values,errors){var name=field.name,value=values[name],rules=field.validations||[];if(field.required||field.fieldAttributes&&field.fieldAttributes.required){if(-1<rules.indexOf("required"))return;rules.push("required")}if(rules.length){var fieldErrors=[];rules.forEach(function(rule){var ruleFunc=validationRules[rule];if(ruleFunc){var validationError=ruleFunc({fields:fields,field:field,name:name,values:values,value:value});validationError&&fieldErrors.push(validationError)}else console.warn("[COMPOSABLE VALIDATION] Attempting to validate non-existant validation rule: ".concat(rule));fieldErrors.length&&("repeater"===field.type?(errors[name]=[],errors[name][final_form_es.a]=fieldErrors.join("<br />")):errors[name]=fieldErrors.join("<br />"))})}field.fields&&field.fields.length&&(errors[name]=errors[name]||[],values[name]=values[name]||[],values[name].forEach(function(repeaterItem,index){field.fields.forEach(function(nestedField){errors[name][index]=errors[name][index]||{},values[name][index]=values[name][index]||{},validateField(field.fields,nestedField,values[name][index],errors[name][index])})}))},validate=function(component,values){var errors={};return component.validations&&function(component,values,errors){var rules=component.validations||[];if(rules.length){var componentErrors=[];rules.forEach(function(rule){var ruleFunc=validationRules[rule];if(ruleFunc){var validationError=ruleFunc({fields:component.fields,values:values});validationError&&componentErrors.push(validationError)}else console.warn("[COMPOSABLE VALIDATION] Attempting to validate non-existant validation rule: ".concat(rule))}),componentErrors.length&&(errors.componentError=componentErrors.join("<br />"))}}(component,values,errors),component.fields.forEach(function(field){return validateField(component.fields,field,values,errors)}),errors};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableContext_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){ComposableContext_defineProperty(target,key,source[key])})}return target}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function ComposableContext_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var reorder=function(list,startIndex,endIndex){var result=Array.from(list),removed=_slicedToArray(result.splice(startIndex,1),1)[0];return result.splice(endIndex,0,removed),result},ComposableContext=react_default.a.createContext({}),ComposableContext_ComposableProvider=function(_React$Component){function ComposableProvider(_props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableProvider),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(ComposableProvider).call(this,_props)),ComposableContext_defineProperty(_assertThisInitialized(_this),"setRef",function(name,element){_this[name]=element}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getIcon",function(name,fallback){return _this.props.icons&&_this.props.icons[name]?react_default.a.createElement("span",{dangerouslySetInnerHTML:{__html:_this.props.icons[name]}}):!!fallback&&fallback}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getLangString",function(name,fallback){return _this.props.lang&&_this.props.lang[name]?_this.props.lang[name]:fallback}),ComposableContext_defineProperty(_assertThisInitialized(_this),"setDebug",function(debug){_this.setState({debug:debug})}),ComposableContext_defineProperty(_assertThisInitialized(_this),"setGroup",function(group){_this.setState({group:group})}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getInitialGroup",function(){var config=_this.getConfig();return Object.keys(config)[0]}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getComposition",function(group){return group?_this.state.composition[group]:_this.state.composition}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getGroups",function(){var config=_this.getConfig();return Object.keys(config)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"hasGroups",function(){return 1<_this.getGroups().length}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getConfig",function(){return _this.props.config?_this.props.config:_this.props.components?{main:_this.props.components.map(function(component){return component.name})}:void 0}),ComposableContext_defineProperty(_assertThisInitialized(_this),"initialiseComposition",function(){var structure={},existing=_this.props.composition,config=_this.props.config||{main:[]};return Object.keys(config).forEach(function(key){structure[key]=existing&&existing[key]?existing[key]:[]}),_this.compositionChangeCallback(structure),structure}),ComposableContext_defineProperty(_assertThisInitialized(_this),"replaceComposition",function(composition){_this.setState({composition:composition},function(){_this.compositionChangeCallback()})}),ComposableContext_defineProperty(_assertThisInitialized(_this),"compositionChangeCallback",function(composition){_this.props.onCompositionChange&&_this.props.onCompositionChange(composition||_this.state.composition)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getTemplateForComponent",function(fieldType){return _this.props.components.filter(function(template){return template.name===fieldType})[0]||{id:fieldType,name:fieldType,label:"".concat(fieldType," (Missing)"),message:"\n        Error: The component '".concat(fieldType,"' is allowed in your config but is not present in the components prop.\n      "),messageType:"error"}}),ComposableContext_defineProperty(_assertThisInitialized(_this),"deleteAllData",function(){confirm("Are you sure you want to delete all data for this record? There is no going back.")&&_this.setState({composition:_this.initialiseComposition()})}),ComposableContext_defineProperty(_assertThisInitialized(_this),"addNewComponent",function(type){var atIndex=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],component=_this.getTemplateForComponent(type),composition=_this.state.composition,newComponent={id:Date.now(),component_type:component.name,component_collapsed:!1,advanced:{},data:{}};_this.hasDraftMode()&&(newComponent.component_draft=!1),component.fields&&component.fields.forEach(function(template){newComponent.data[template.name]=_this.getDefaultValueForField(template)}),!1===atIndex?composition[_this.state.group].push(newComponent):composition[_this.state.group].splice(atIndex,0,newComponent),_this.setState({composition:composition},function(){_this.compositionChangeCallback(),_this.props.onComponentAdd&&_this.props.onComponentAdd()})}),ComposableContext_defineProperty(_assertThisInitialized(_this),"removeComponent",function(component){if(confirm("Are you sure you want to remove this component?")){var composition=_this.state.composition,index=composition[_this.state.group].indexOf(component);composition[_this.state.group].splice(index,1),_this.setState({composition:composition},function(){_this.compositionChangeCallback()})}}),ComposableContext_defineProperty(_assertThisInitialized(_this),"collapseComponent",function(componentIndex,direction){var composition=_this.state.composition,component=composition[_this.state.group][componentIndex];return component?(component.component_collapsed=direction?"collapse"===direction:!component.component_collapsed,void _this.setState({composition:composition},function(){_this.compositionChangeCallback()})):void console.warn("Unable to find component with index of "+componentIndex)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"collapseAllComponents",function(collapse){var composition=_this.state.composition;composition[_this.state.group].map(function(component){component.component_collapsed=collapse}),_this.setState({composition:composition},function(){_this.compositionChangeCallback()})}),ComposableContext_defineProperty(_assertThisInitialized(_this),"hasDraftMode",function(){return _this.props.draftMode}),ComposableContext_defineProperty(_assertThisInitialized(_this),"draftComponent",function(componentIndex,visibility){var composition=_this.state.composition,component=composition[_this.state.group][componentIndex];return component?(component.component_draft=visibility?"draft"===visibility:!component.component_draft,void _this.setState({composition:composition},function(){_this.compositionChangeCallback()})):void console.warn("Unable to find component with index of "+componentIndex)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getFieldValue",function(ref){return!!ref.state&&(ref.state.state?ref.state.state.value:!!ref.state.value&&ref.state.value)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"setFieldValue",function(ref,value){ref.context.reactFinalForm.change(ref.props.name,value)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"getDefaultValueForField",function(field){var value="";if(field.defaultValue)value=field.defaultValue;else if("boolean"===field.type)value=!1;else if(-1<["repeater"].indexOf(field.type))value=[];else if(-1<[].indexOf(field.type))value={};else if("select"===field.type&&field.data){var firstValue=field.data[0];void 0!==field.data[0].value&&(firstValue=firstValue.value),value=firstValue+""}return value}),ComposableContext_defineProperty(_assertThisInitialized(_this),"generateFieldAttributes",function(props){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},settings=props.fieldSettings,attributes={id:props.id,name:settings.name};return options.namePostfix&&(attributes.name+=options.namePostfix,attributes.id+=options.namePostfix),settings&&(attributes.className=settings.className||options.fallbackClassName||"",attributes.placeholder=settings.placeholder||"",settings.required&&(attributes.required=settings.required),settings.inputData&&Object.keys(settings.inputData).forEach(function(key){attributes["data-"+key]=settings.inputData[key]})),ComposableContext_objectSpread({},attributes,settings.fieldAttributes)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"onDragStart",function(start,provided){_this.props.onDragStart&&_this.props.onDragStart(start,provided)}),ComposableContext_defineProperty(_assertThisInitialized(_this),"onDragUpdate",function(){_this.props.onDragUpdate&&_this.props.onDragUpdate()}),ComposableContext_defineProperty(_assertThisInitialized(_this),"onDragEnd",function(result,provided){var source=result.source,destination=result.destination;if(destination&&"library"!==destination.droppableId)if("library"===source.droppableId)_this.addNewComponent(result.draggableId,destination.index);else{var composition=ComposableContext_objectSpread({},_this.state.composition);composition[_this.state.group]=reorder(composition[_this.state.group],source.index,destination.index),_this.setState({composition:composition},function(){_this.compositionChangeCallback(),_this.props.onDragEnd&&_this.props.onDragEnd(result,provided)})}}),_this.state={composition:_this.initialiseComposition(),group:_this.getInitialGroup(),debug:_this.props.debug||!1,error:!1},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ComposableProvider,react_default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ComposableProvider,[{key:"componentDidMount",value:function componentDidMount(){setupValidationRules(this.props.customValidations),this.props.onMount&&this.props.onMount(this)}},{key:"componentDidCatch",value:function componentDidCatch(error,info){this.setState({error:{error:error,info:info}})}},{key:"render",value:function render(){return react_default.a.createElement(ComposableContext.Provider,{value:{settings:this.props,state:this.state,functions:{setRef:this.setRef,composition:{getConfig:this.getConfig,getComposition:this.getComposition,addNewComponent:this.addNewComponent,removeComponent:this.removeComponent,replaceComposition:this.replaceComposition,deleteAllData:this.deleteAllData,getGroups:this.getGroups,setGroup:this.setGroup,hasGroups:this.hasGroups,hasDraftMode:this.hasDraftMode,getLangString:this.getLangString},dnd:{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd},fields:{generateFieldAttributes:this.generateFieldAttributes,getDefaultValueForField:this.getDefaultValueForField,getFieldValue:this.getFieldValue,setFieldValue:this.setFieldValue},components:{getTemplateForComponent:this.getTemplateForComponent,collapseComponent:this.collapseComponent,collapseAllComponents:this.collapseAllComponents,draftComponent:this.draftComponent,closeAdvanced:this.closeAdvanced,validateComponent:validate,getIcon:this.getIcon}}}},this.props.children)}}]),ComposableProvider}();ComposableContext_ComposableProvider.displayName="ComposableProvider",ComposableContext_ComposableProvider.__docgenInfo={description:"",methods:[{name:"componentDidCatch",docblock:null,modifiers:[],params:[{name:"error",type:null},{name:"info",type:null}],returns:null},{name:"setRef",docblock:null,modifiers:[],params:[{name:"name",type:null},{name:"element",type:null}],returns:null},{name:"getIcon",docblock:null,modifiers:[],params:[{name:"name",type:null},{name:"fallback",type:null}],returns:null},{name:"getLangString",docblock:null,modifiers:[],params:[{name:"name",type:null},{name:"fallback",type:null}],returns:null},{name:"setDebug",docblock:null,modifiers:[],params:[{name:"debug",type:null}],returns:null},{name:"setGroup",docblock:null,modifiers:[],params:[{name:"group",type:null}],returns:null},{name:"getInitialGroup",docblock:null,modifiers:[],params:[],returns:null},{name:"getComposition",docblock:null,modifiers:[],params:[{name:"group",type:null}],returns:null},{name:"getGroups",docblock:null,modifiers:[],params:[],returns:null},{name:"hasGroups",docblock:null,modifiers:[],params:[],returns:null},{name:"getConfig",docblock:null,modifiers:[],params:[],returns:null},{name:"initialiseComposition",docblock:null,modifiers:[],params:[],returns:null},{name:"replaceComposition",docblock:null,modifiers:[],params:[{name:"composition",type:null}],returns:null},{name:"compositionChangeCallback",docblock:null,modifiers:[],params:[{name:"composition",type:null}],returns:null},{name:"getTemplateForComponent",docblock:null,modifiers:[],params:[{name:"fieldType",type:null}],returns:null},{name:"deleteAllData",docblock:null,modifiers:[],params:[],returns:null},{name:"addNewComponent",docblock:null,modifiers:[],params:[{name:"type",type:null},{name:"atIndex",type:null}],returns:null},{name:"removeComponent",docblock:null,modifiers:[],params:[{name:"component",type:null}],returns:null},{name:"collapseComponent",docblock:null,modifiers:[],params:[{name:"componentIndex",type:null},{name:"direction",type:null}],returns:null},{name:"collapseAllComponents",docblock:null,modifiers:[],params:[{name:"collapse",type:null}],returns:null},{name:"hasDraftMode",docblock:null,modifiers:[],params:[],returns:null},{name:"draftComponent",docblock:null,modifiers:[],params:[{name:"componentIndex",type:null},{name:"visibility",type:null}],returns:null},{name:"getFieldValue",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"setFieldValue",docblock:null,modifiers:[],params:[{name:"ref",type:null},{name:"value",type:null}],returns:null},{name:"getDefaultValueForField",docblock:null,modifiers:[],params:[{name:"field",type:null}],returns:null},{name:"generateFieldAttributes",docblock:null,modifiers:[],params:[{name:"props",type:null},{name:"options",type:null}],returns:null},{name:"onDragStart",docblock:null,modifiers:[],params:[{name:"start",type:null},{name:"provided",type:null}],returns:null},{name:"onDragUpdate",docblock:null,modifiers:[],params:[],returns:null},{name:"onDragEnd",docblock:null,modifiers:[],params:[{name:"result",type:null},{name:"provided",type:null}],returns:null}],displayName:"ComposableProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableContext.jsx"]={name:"ComposableProvider",docgenInfo:ComposableContext_ComposableProvider.__docgenInfo,path:"src/Composable/ComposableContext.jsx"});__webpack_require__(28);var es=__webpack_require__(207);function ComposableLibrary_typeof(obj){return(ComposableLibrary_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableLibrary_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableLibrary_possibleConstructorReturn(self,call){return!call||"object"!==ComposableLibrary_typeof(call)&&"function"!=typeof call?function ComposableLibrary_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableLibrary_getPrototypeOf(o){return(ComposableLibrary_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableLibrary_setPrototypeOf(o,p){return(ComposableLibrary_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ComposableLibrary_ComposableLibrary=function(_React$Component){function ComposableLibrary(){return function ComposableLibrary_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableLibrary),ComposableLibrary_possibleConstructorReturn(this,ComposableLibrary_getPrototypeOf(ComposableLibrary).apply(this,arguments))}return function ComposableLibrary_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableLibrary_setPrototypeOf(subClass,superClass)}(ComposableLibrary,react_default.a.Component),function ComposableLibrary_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableLibrary_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableLibrary_defineProperties(Constructor,staticProps),Constructor}(ComposableLibrary,[{key:"render",value:function render(){var _this=this,_this$context=this.context,settings=_this$context.settings,functions=(_this$context.state,_this$context.functions);return react_default.a.createElement(es.a,{offsetTop:70,offsetBottom:20},react_default.a.createElement("div",{className:"composable--library"},react_default.a.createElement(react_beautiful_dnd_esm.c,{droppableId:"library",isDropDisabled:!0},function(libraryDroppableProvided){return react_default.a.createElement("div",{ref:libraryDroppableProvided.innerRef},_this.props.composableTypes.map(function(component,index){var template=functions.components.getTemplateForComponent(component);return react_default.a.createElement(react_beautiful_dnd_esm.b,{draggableId:template.name,index:index,key:template.name},function(libraryDraggableProvided,libraryDraggableSnapshot){return react_default.a.createElement("div",_extends({className:"composable--component--wrapper",ref:libraryDraggableProvided.innerRef},libraryDraggableProvided.draggableProps,libraryDraggableProvided.dragHandleProps),react_default.a.createElement("div",{className:"\n                              composable--library--component \n                              ".concat(libraryDraggableSnapshot.isDragging?"composable--component__dragging":"","\n                            ")},settings.icons&&react_default.a.createElement(react_default.a.Fragment,null,template.icon&&settings.icons[template.icon]?react_default.a.createElement("div",{className:"composable--library--icon",dangerouslySetInnerHTML:{__html:settings.icons[template.icon]}}):react_default.a.createElement("div",{className:"composable--library--icon",dangerouslySetInnerHTML:{__html:settings.icons.module}})),react_default.a.createElement("div",null,template.label||template.name)))})}),libraryDroppableProvided.placeholder)})))}}]),ComposableLibrary}();ComposableLibrary_ComposableLibrary.displayName="ComposableLibrary",function ComposableLibrary_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(ComposableLibrary_ComposableLibrary,"contextType",ComposableContext),ComposableLibrary_ComposableLibrary.__docgenInfo={description:"",methods:[],displayName:"ComposableLibrary"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableLibrary.jsx"]={name:"ComposableLibrary",docgenInfo:ComposableLibrary_ComposableLibrary.__docgenInfo,path:"src/Composable/ComposableLibrary.jsx"});__webpack_require__(417),__webpack_require__(123);var react_final_form_es=__webpack_require__(4),final_form_arrays_es=__webpack_require__(214),downshift_esm=(__webpack_require__(119),__webpack_require__(420),__webpack_require__(421),__webpack_require__(217)),axios=__webpack_require__(127),axios_default=__webpack_require__.n(axios);function ComposableFieldAutocomplete_typeof(obj){return(ComposableFieldAutocomplete_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldAutocomplete_extends(){return(ComposableFieldAutocomplete_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableFieldAutocomplete_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldAutocomplete_getPrototypeOf(o){return(ComposableFieldAutocomplete_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldAutocomplete_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ComposableFieldAutocomplete_setPrototypeOf(o,p){return(ComposableFieldAutocomplete_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var debounceTimer=null,ComposableFieldAutocomplete_ref=react_default.a.createElement("li",{className:"composable--downshift--empty"},"Loading..."),ComposableFieldAutocomplete_ref2=react_default.a.createElement("li",{className:"composable--downshift--empty"},"No results"),ComposableFieldAutocomplete_ref3=react_default.a.createElement("input",{type:"text",disabled:!0,value:"Loading..."}),ComposableFieldAutocomplete_ComposableFieldAutocomplete=function(_React$Component){function ComposableFieldAutocomplete(props){var _this;return function ComposableFieldAutocomplete_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldAutocomplete),(_this=function ComposableFieldAutocomplete_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldAutocomplete_typeof(call)&&"function"!=typeof call?ComposableFieldAutocomplete_assertThisInitialized(self):call}(this,ComposableFieldAutocomplete_getPrototypeOf(ComposableFieldAutocomplete).call(this,props))).endpoints={CONTENT:props.fieldSettings.contentEndpoint,SEARCH:props.fieldSettings.searchEndpoint},_this.requiresAjax=_this.endpoints.CONTENT||_this.endpoints.SEARCH,_this.state={fieldReady:!1,initialValue:"",searchResults:[],waitingForResults:!1,error:!1},_this.componentDidMount=_this.componentDidMount.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.getFieldValue=_this.getFieldValue.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.setFieldValue=_this.setFieldValue.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.clearValue=_this.clearValue.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.getLabelForCurrentdata=_this.getLabelForCurrentdata.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.getDataForKeyword=_this.getDataForKeyword.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.onDownshiftSelection=_this.onDownshiftSelection.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.onDownshiftInputChange=_this.onDownshiftInputChange.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this.debouncedGetDataForKeyword=_this.debouncedGetDataForKeyword.bind(ComposableFieldAutocomplete_assertThisInitialized(_this)),_this}return function ComposableFieldAutocomplete_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldAutocomplete_setPrototypeOf(subClass,superClass)}(ComposableFieldAutocomplete,react_default.a.Component),function ComposableFieldAutocomplete_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldAutocomplete_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldAutocomplete_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldAutocomplete,[{key:"componentDidMount",value:function componentDidMount(){this.getLabelForCurrentdata()}},{key:"getFieldValue",value:function getFieldValue(){return!!this.$hiddenField&&this.$hiddenField.context.reactFinalForm.getState().initialValues[this.$hiddenField.props.name]}},{key:"setFieldValue",value:function setFieldValue(value){return!!this.$hiddenField&&void this.$hiddenField.context.reactFinalForm.change(this.$hiddenField.props.name,value)}},{key:"clearValue",value:function clearValue(){var _this2=this;if(this.downshift){var value=this.props.fieldSettings.withRecordType?{}:"";this.setState({initialValue:value},function(){_this2.downshift.setState({inputValue:"",selectedItem:!1}),_this2.setFieldValue(value)})}}},{key:"normaliseArray",value:function normaliseArray(array){return array.map(function(item){return"string"==typeof item?{label:item,value:item}:item})}},{key:"getLabelForCurrentdata",value:function getLabelForCurrentdata(){var _this3=this,value=this.getFieldValue();if(value){if(!this.requiresAjax){var data=this.normaliseArray(this.props.fieldSettings.data),object=data.filter(function(datum){return datum.value===value})[0];if(object&&object.label)return void this.setState({initialValue:object.label,searchResults:data,fieldReady:!0})}var params;if(this.endpoints.CONTENT)params=this.props.fieldSettings.withRecordType?{id:value.id,type:value.type}:{value:value},axios_default.a.get(this.endpoints.CONTENT,{params:params}).then(function(response){if(response.data.length){var _data=_this3.normaliseArray(response.data);_this3.setState({initialValue:_data[0],searchResults:_data,fieldReady:!0})}else console.log(response),_this3.setState({error:"Returned bad data",fieldReady:!0})}).catch(function(error){console.log(error),_this3.setState({error:error,fieldReady:!0})});else this.props.fieldSettings.withRecordType?this.setState({initialValue:"ERROR: Missing content endpoint",searchResults:[],fieldReady:!0}):this.setState({initialValue:value,searchResults:[value],fieldReady:!0})}else this.setState({fieldReady:!0})}},{key:"getDataForKeyword",value:function getDataForKeyword(keyword){var _this4=this;axios_default.a.get(this.endpoints.SEARCH,{params:{keyword:keyword}}).then(function(response){response.data.length?_this4.setState({searchResults:_this4.normaliseArray(response.data),waitingForResults:!1}):_this4.setState({searchResults:[],waitingForResults:!1})})}},{key:"debouncedGetDataForKeyword",value:function debouncedGetDataForKeyword(keyword){var _this5=this;debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(function(){_this5.setState({waitingForResults:!0},function(){_this5.getDataForKeyword(keyword)})},200)}},{key:"onDownshiftSelection",value:function onDownshiftSelection(selection){var value=selection.value;this.withRecordType&&(value={type:selection.value.type,id:selection.value.id}),this.setFieldValue(value)}},{key:"onDownshiftInputChange",value:function onDownshiftInputChange(event){var value=event.target.value;3>value.length||this.debouncedGetDataForKeyword(value)}},{key:"render",value:function render(){var _this6=this,downshiftProps={onChange:function onChange(selection){return _this6.onDownshiftSelection(selection)},initialSelectedItem:this.state.initialValue,itemToString:function itemToString(item){return item?item.label?item.label:item:""}},downshiftInputProps={placeholder:"Start typing..."};this.requiresAjax&&(downshiftInputProps.onChange=this.onDownshiftInputChange);var hasValue=this.getFieldValue()||!1;return this.props.fieldSettings.withRecordType&&0===Object.keys(hasValue).length&&(hasValue=!1),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(react_final_form_es.a,ComposableFieldAutocomplete_extends({component:"input",type:"hidden",ref:function ref(el){return _this6.$hiddenField=el}},this.props.helpers.generateFieldAttributes(this.props))),this.state.fieldReady?react_default.a.createElement("div",{className:"form--field-wrapper"},this.props.fieldSettings.prefix&&react_default.a.createElement("div",{className:"form--field-cap"},this.props.fieldSettings.prefix),react_default.a.createElement(downshift_esm.a,ComposableFieldAutocomplete_extends({ref:function ref(el){return _this6.downshift=el}},downshiftProps),function(_ref4){var getInputProps=_ref4.getInputProps,getItemProps=_ref4.getItemProps,getMenuProps=_ref4.getMenuProps,isOpen=_ref4.isOpen,inputValue=_ref4.inputValue,highlightedIndex=_ref4.highlightedIndex,selectedItem=_ref4.selectedItem;return react_default.a.createElement("div",{className:"composable--downshift"},react_default.a.createElement("input",ComposableFieldAutocomplete_extends({type:"text"},getInputProps(downshiftInputProps))),isOpen&&2<inputValue.length&&react_default.a.createElement("ul",ComposableFieldAutocomplete_extends({},getMenuProps(),{className:"composable--downshift--options"}),function(inputValue,highlightedIndex,selectedItem,getItemProps){if(_this6.requiresAjax&&_this6.state.waitingForResults)return ComposableFieldAutocomplete_ref;var results=(_this6.props.fieldSettings.data||_this6.state.searchResults).filter(function(item){return!inputValue||(item.label||item+"").toLowerCase().includes(inputValue.toLowerCase())}).slice(0,20);return results.length?results.map(function(item,index){return react_default.a.createElement("li",getItemProps({key:item.label,index:index,item:item,style:{backgroundColor:highlightedIndex===index?"lightgray":"white",fontWeight:selectedItem===item?"bold":"normal"}}),item.label)}):ComposableFieldAutocomplete_ref2}(inputValue,highlightedIndex,selectedItem,getItemProps)))}),hasValue&&react_default.a.createElement("button",{onClick:this.clearValue,type:"button",className:"button"},"×")):ComposableFieldAutocomplete_ref3)}}]),ComposableFieldAutocomplete}();function ComposableFieldBoolean_typeof(obj){return(ComposableFieldBoolean_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldBoolean_extends(){return(ComposableFieldBoolean_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableFieldBoolean_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldBoolean_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldBoolean_typeof(call)&&"function"!=typeof call?function ComposableFieldBoolean_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldBoolean_getPrototypeOf(o){return(ComposableFieldBoolean_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldBoolean_setPrototypeOf(o,p){return(ComposableFieldBoolean_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableFieldAutocomplete_ComposableFieldAutocomplete.displayName="ComposableFieldAutocomplete",ComposableFieldAutocomplete_ComposableFieldAutocomplete.__docgenInfo={description:"",methods:[{name:"getFieldValue",docblock:null,modifiers:[],params:[],returns:null},{name:"setFieldValue",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"clearValue",docblock:null,modifiers:[],params:[],returns:null},{name:"normaliseArray",docblock:null,modifiers:[],params:[{name:"array",type:null}],returns:null},{name:"getLabelForCurrentdata",docblock:null,modifiers:[],params:[],returns:null},{name:"getDataForKeyword",docblock:null,modifiers:[],params:[{name:"keyword",type:null}],returns:null},{name:"debouncedGetDataForKeyword",docblock:null,modifiers:[],params:[{name:"keyword",type:null}],returns:null},{name:"onDownshiftSelection",docblock:null,modifiers:[],params:[{name:"selection",type:null}],returns:null},{name:"onDownshiftInputChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"ComposableFieldAutocomplete"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldAutocomplete.jsx"]={name:"ComposableFieldAutocomplete",docgenInfo:ComposableFieldAutocomplete_ComposableFieldAutocomplete.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldAutocomplete.jsx"});var ComposableFieldBoolean_ref=react_default.a.createElement("span",{className:"form--enhanced--control"}),ComposableFieldBoolean_ComposableFieldBoolean=function(_React$Component){function ComposableFieldBoolean(){return function ComposableFieldBoolean_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldBoolean),ComposableFieldBoolean_possibleConstructorReturn(this,ComposableFieldBoolean_getPrototypeOf(ComposableFieldBoolean).apply(this,arguments))}return function ComposableFieldBoolean_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldBoolean_setPrototypeOf(subClass,superClass)}(ComposableFieldBoolean,react_default.a.Component),function ComposableFieldBoolean_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldBoolean_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldBoolean_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldBoolean,[{key:"render",value:function render(){var className=this.props.fieldSettings.className||"";return react_default.a.createElement("label",{className:"checkbox control-label "+className},react_default.a.createElement(react_final_form_es.a,ComposableFieldBoolean_extends({component:"input",type:"checkbox"},this.props.helpers.generateFieldAttributes(this.props))),ComposableFieldBoolean_ref,this.props.fieldSettings.label)}}]),ComposableFieldBoolean}();ComposableFieldBoolean_ComposableFieldBoolean.displayName="ComposableFieldBoolean",ComposableFieldBoolean_ComposableFieldBoolean.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldBoolean"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldBoolean.jsx"]={name:"ComposableFieldBoolean",docgenInfo:ComposableFieldBoolean_ComposableFieldBoolean.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldBoolean.jsx"});var parameterize=__webpack_require__(43),parameterize_default=__webpack_require__.n(parameterize);function ComposableFieldCheckboxes_typeof(obj){return(ComposableFieldCheckboxes_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldCheckboxes_extends(){return(ComposableFieldCheckboxes_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableFieldCheckboxes_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldCheckboxes_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldCheckboxes_typeof(call)&&"function"!=typeof call?function ComposableFieldCheckboxes_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldCheckboxes_getPrototypeOf(o){return(ComposableFieldCheckboxes_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldCheckboxes_setPrototypeOf(o,p){return(ComposableFieldCheckboxes_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ComposableFieldCheckboxes_ref=react_default.a.createElement("span",{className:"form--enhanced--control"}),ComposableFieldCheckboxes_ComposableFieldCheckboxes=function(_React$Component){function ComposableFieldCheckboxes(){return function ComposableFieldCheckboxes_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldCheckboxes),ComposableFieldCheckboxes_possibleConstructorReturn(this,ComposableFieldCheckboxes_getPrototypeOf(ComposableFieldCheckboxes).apply(this,arguments))}return function ComposableFieldCheckboxes_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldCheckboxes_setPrototypeOf(subClass,superClass)}(ComposableFieldCheckboxes,react_default.a.Component),function ComposableFieldCheckboxes_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldCheckboxes_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldCheckboxes_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldCheckboxes,[{key:"render",value:function render(){var _this=this,options=this.props.fieldSettings.data||[];return react_default.a.createElement("div",{className:"checkboxes"},options.map(function(option,index){var key=parameterize_default()(_this.props.fieldSettings.name)+"__option-"+index+"__"+parameterize_default()(option.value+"");return react_default.a.createElement("span",{className:"checkbox",key:key},react_default.a.createElement("label",null,react_default.a.createElement(react_final_form_es.a,ComposableFieldCheckboxes_extends({component:"input",type:"checkbox",value:option.value+""},_this.props.helpers.generateFieldAttributes(_this.props))),ComposableFieldCheckboxes_ref,option.label))}))}}]),ComposableFieldCheckboxes}();function ComposableFieldString_typeof(obj){return(ComposableFieldString_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldString_extends(){return(ComposableFieldString_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableFieldString_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldString_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldString_typeof(call)&&"function"!=typeof call?function ComposableFieldString_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldString_getPrototypeOf(o){return(ComposableFieldString_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldString_setPrototypeOf(o,p){return(ComposableFieldString_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableFieldCheckboxes_ComposableFieldCheckboxes.displayName="ComposableFieldCheckboxes",ComposableFieldCheckboxes_ComposableFieldCheckboxes.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldCheckboxes"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldCheckboxes.jsx"]={name:"ComposableFieldCheckboxes",docgenInfo:ComposableFieldCheckboxes_ComposableFieldCheckboxes.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldCheckboxes.jsx"});var ComposableFieldString_ComposableFieldString=function(_React$Component){function ComposableFieldString(){return function ComposableFieldString_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldString),ComposableFieldString_possibleConstructorReturn(this,ComposableFieldString_getPrototypeOf(ComposableFieldString).apply(this,arguments))}return function ComposableFieldString_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldString_setPrototypeOf(subClass,superClass)}(ComposableFieldString,react_default.a.Component),function ComposableFieldString_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldString_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldString_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldString,[{key:"render",value:function render(){return react_default.a.createElement("div",{className:"form--field-wrapper"},this.props.fieldSettings.prefix&&react_default.a.createElement("div",{className:"form--field-cap"},this.props.fieldSettings.prefix),react_default.a.createElement(react_final_form_es.a,ComposableFieldString_extends({component:"input",type:this.props.inputType||"text"},this.props.helpers.generateFieldAttributes(this.props))))}}]),ComposableFieldString}();function ComposableFieldNumber_typeof(obj){return(ComposableFieldNumber_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldNumber_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ComposableFieldNumber_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldNumber_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldNumber_typeof(call)&&"function"!=typeof call?function ComposableFieldNumber_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldNumber_getPrototypeOf(o){return(ComposableFieldNumber_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldNumber_setPrototypeOf(o,p){return(ComposableFieldNumber_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableFieldString_ComposableFieldString.displayName="ComposableFieldString",ComposableFieldString_ComposableFieldString.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldString"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldString.jsx"]={name:"ComposableFieldString",docgenInfo:ComposableFieldString_ComposableFieldString.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldString.jsx"});var ComposableFieldNumber_ComposableFieldNumber=function(_React$Component){function ComposableFieldNumber(){return function ComposableFieldNumber_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldNumber),ComposableFieldNumber_possibleConstructorReturn(this,ComposableFieldNumber_getPrototypeOf(ComposableFieldNumber).apply(this,arguments))}return function ComposableFieldNumber_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldNumber_setPrototypeOf(subClass,superClass)}(ComposableFieldNumber,react_default.a.Component),function ComposableFieldNumber_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldNumber_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldNumber_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldNumber,[{key:"render",value:function render(){var props=function ComposableFieldNumber_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){ComposableFieldNumber_defineProperty(target,key,source[key])})}return target}({},this.props);return props.fieldSettings.className=props.fieldSettings.className||"",props.fieldSettings.className+=" form--small",props.inputType="number",react_default.a.createElement(ComposableFieldString_ComposableFieldString,props)}}]),ComposableFieldNumber}();function ComposableFieldRadiobuttons_typeof(obj){return(ComposableFieldRadiobuttons_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldRadiobuttons_extends(){return(ComposableFieldRadiobuttons_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableFieldRadiobuttons_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldRadiobuttons_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldRadiobuttons_typeof(call)&&"function"!=typeof call?function ComposableFieldRadiobuttons_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldRadiobuttons_getPrototypeOf(o){return(ComposableFieldRadiobuttons_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldRadiobuttons_setPrototypeOf(o,p){return(ComposableFieldRadiobuttons_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableFieldNumber_ComposableFieldNumber.displayName="ComposableFieldNumber",ComposableFieldNumber_ComposableFieldNumber.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldNumber"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldNumber.jsx"]={name:"ComposableFieldNumber",docgenInfo:ComposableFieldNumber_ComposableFieldNumber.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldNumber.jsx"});var ComposableFieldRadiobuttons_ref=react_default.a.createElement("span",{className:"form--enhanced--control"}),ComposableFieldRadiobuttons_ComposableFieldRadiobuttons=function(_React$Component){function ComposableFieldRadiobuttons(){return function ComposableFieldRadiobuttons_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldRadiobuttons),ComposableFieldRadiobuttons_possibleConstructorReturn(this,ComposableFieldRadiobuttons_getPrototypeOf(ComposableFieldRadiobuttons).apply(this,arguments))}return function ComposableFieldRadiobuttons_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldRadiobuttons_setPrototypeOf(subClass,superClass)}(ComposableFieldRadiobuttons,react_default.a.Component),function ComposableFieldRadiobuttons_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldRadiobuttons_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldRadiobuttons_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldRadiobuttons,[{key:"render",value:function render(){var _this=this,options=this.props.fieldSettings.data||[];return react_default.a.createElement("div",{className:"radio_buttons"},options.map(function(option,index){var key=parameterize_default()(_this.props.fieldSettings.name)+"__option-"+index+"__"+parameterize_default()(option.value+"");return react_default.a.createElement("span",{className:"radio",key:key},react_default.a.createElement("label",null,react_default.a.createElement(react_final_form_es.a,ComposableFieldRadiobuttons_extends({component:"input",type:"radio",value:option.value+""},_this.props.helpers.generateFieldAttributes(_this.props))),ComposableFieldRadiobuttons_ref,option.label))}))}}]),ComposableFieldRadiobuttons}();function ComposableFieldRange_typeof(obj){return(ComposableFieldRange_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldRange_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){ComposableFieldRange_defineProperty(target,key,source[key])})}return target}function ComposableFieldRange_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ComposableFieldRange_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldRange_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldRange_typeof(call)&&"function"!=typeof call?function ComposableFieldRange_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldRange_getPrototypeOf(o){return(ComposableFieldRange_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldRange_setPrototypeOf(o,p){return(ComposableFieldRange_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableFieldRadiobuttons_ComposableFieldRadiobuttons.displayName="ComposableFieldRadiobuttons",ComposableFieldRadiobuttons_ComposableFieldRadiobuttons.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldRadiobuttons"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldRadiobuttons.jsx"]={name:"ComposableFieldRadiobuttons",docgenInfo:ComposableFieldRadiobuttons_ComposableFieldRadiobuttons.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldRadiobuttons.jsx"});var ComposableFieldRange_ComposableFieldRange=function(_React$Component){function ComposableFieldRange(){return function ComposableFieldRange_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldRange),ComposableFieldRange_possibleConstructorReturn(this,ComposableFieldRange_getPrototypeOf(ComposableFieldRange).apply(this,arguments))}return function ComposableFieldRange_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldRange_setPrototypeOf(subClass,superClass)}(ComposableFieldRange,react_default.a.Component),function ComposableFieldRange_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldRange_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldRange_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldRange,[{key:"render",value:function render(){var rangeProps=ComposableFieldRange_objectSpread({},this.props);rangeProps.fieldSettings.className="",rangeProps.inputType="range";var numberProps=ComposableFieldRange_objectSpread({},this.props);return numberProps.inputType="number",react_default.a.createElement("div",{className:"form--range__with-value"},react_default.a.createElement(ComposableFieldString_ComposableFieldString,rangeProps),react_default.a.createElement(ComposableFieldNumber_ComposableFieldNumber,numberProps))}}]),ComposableFieldRange}();ComposableFieldRange_ComposableFieldRange.displayName="ComposableFieldRange",ComposableFieldRange_ComposableFieldRange.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldRange"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldRange.jsx"]={name:"ComposableFieldRange",docgenInfo:ComposableFieldRange_ComposableFieldRange.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldRange.jsx"});var react_final_form_arrays_es=__webpack_require__(216);function ComposableFieldRepeater_typeof(obj){return(ComposableFieldRepeater_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldRepeater_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldRepeater_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldRepeater_typeof(call)&&"function"!=typeof call?function ComposableFieldRepeater_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldRepeater_getPrototypeOf(o){return(ComposableFieldRepeater_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldRepeater_setPrototypeOf(o,p){return(ComposableFieldRepeater_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ComposableFieldRepeater_ComposableFieldRepeater=function(_React$Component){function ComposableFieldRepeater(props){return function ComposableFieldRepeater_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldRepeater),ComposableFieldRepeater_possibleConstructorReturn(this,ComposableFieldRepeater_getPrototypeOf(ComposableFieldRepeater).call(this,props))}return function ComposableFieldRepeater_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldRepeater_setPrototypeOf(subClass,superClass)}(ComposableFieldRepeater,react_default.a.Component),function ComposableFieldRepeater_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldRepeater_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldRepeater_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldRepeater,[{key:"removeItem",value:function removeItem(fields,index){confirm("Are you sure?")&&fields.remove(index)}},{key:"render",value:function render(){var _this=this,repeater=this.props.fieldSettings,fieldTemplate={};return repeater.fields.forEach(function(field){fieldTemplate[field.name]=""}),react_default.a.createElement(react_final_form_arrays_es.a,{name:repeater.name},function(_ref){var fields=_ref.fields;return react_default.a.createElement("div",{className:"composable--repeater-field inputs"},fields.map(function(repeaterItemName,repeaterItemIndex){return react_default.a.createElement("div",{key:repeaterItemName,className:"inputs"},repeater.fields.map(function(field,fieldIndex){return react_default.a.createElement(ComposableField_ComposableField,{key:"".concat(_this.props.id,"_").concat(fieldIndex,"_").concat(field.name),componentIndex:fieldIndex,component:_this.props.component,field:field,fieldName:"".concat(repeaterItemName,".").concat(field.name),helpers:_this.props.helpers})}),react_default.a.createElement("button",{type:"button",className:"button__cancel",onClick:function onClick(){return _this.removeItem(fields,repeaterItemIndex)}},"Remove"))}),react_default.a.createElement("button",{type:"button",className:"button__success",onClick:function onClick(){return fields.push(fieldTemplate)}},"+ Add"))})}}]),ComposableFieldRepeater}();function ComposableFieldSelect_typeof(obj){return(ComposableFieldSelect_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldSelect_extends(){return(ComposableFieldSelect_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableFieldSelect_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldSelect_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldSelect_typeof(call)&&"function"!=typeof call?function ComposableFieldSelect_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableFieldSelect_getPrototypeOf(o){return(ComposableFieldSelect_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldSelect_setPrototypeOf(o,p){return(ComposableFieldSelect_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableFieldRepeater_ComposableFieldRepeater.displayName="ComposableFieldRepeater",ComposableFieldRepeater_ComposableFieldRepeater.__docgenInfo={description:"",methods:[{name:"removeItem",docblock:null,modifiers:[],params:[{name:"fields",type:null},{name:"index",type:null}],returns:null}],displayName:"ComposableFieldRepeater"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldRepeater.jsx"]={name:"ComposableFieldRepeater",docgenInfo:ComposableFieldRepeater_ComposableFieldRepeater.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldRepeater.jsx"});var ComposableFieldSelect_ComposableFieldSelect=function(_React$Component){function ComposableFieldSelect(){return function ComposableFieldSelect_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldSelect),ComposableFieldSelect_possibleConstructorReturn(this,ComposableFieldSelect_getPrototypeOf(ComposableFieldSelect).apply(this,arguments))}return function ComposableFieldSelect_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldSelect_setPrototypeOf(subClass,superClass)}(ComposableFieldSelect,react_default.a.Component),function ComposableFieldSelect_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldSelect_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldSelect_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldSelect,[{key:"render",value:function render(){var options=this.props.fieldSettings.data||[];return react_default.a.createElement(react_final_form_es.a,ComposableFieldSelect_extends({component:"select"},this.props.helpers.generateFieldAttributes(this.props,{fallbackClassName:"form--auto"})),options.map(function(option){return react_default.a.createElement("option",{value:option.value,key:"option__"+parameterize_default()(option.value+"")},option.label)}))}}]),ComposableFieldSelect}();function ComposableFieldTextarea_typeof(obj){return(ComposableFieldTextarea_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableFieldTextarea_extends(){return(ComposableFieldTextarea_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableFieldTextarea_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableFieldTextarea_getPrototypeOf(o){return(ComposableFieldTextarea_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableFieldTextarea_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ComposableFieldTextarea_setPrototypeOf(o,p){return(ComposableFieldTextarea_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableFieldSelect_ComposableFieldSelect.displayName="ComposableFieldSelect",ComposableFieldSelect_ComposableFieldSelect.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldSelect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldSelect.jsx"]={name:"ComposableFieldSelect",docgenInfo:ComposableFieldSelect_ComposableFieldSelect.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldSelect.jsx"});var ComposableFieldTextarea_ComposableFieldTextarea=function(_React$Component){function ComposableFieldTextarea(props){var _this;return function ComposableFieldTextarea_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableFieldTextarea),(_this=function ComposableFieldTextarea_possibleConstructorReturn(self,call){return!call||"object"!==ComposableFieldTextarea_typeof(call)&&"function"!=typeof call?ComposableFieldTextarea_assertThisInitialized(self):call}(this,ComposableFieldTextarea_getPrototypeOf(ComposableFieldTextarea).call(this,props))).componentDidMount=_this.componentDidMount.bind(ComposableFieldTextarea_assertThisInitialized(_this)),_this.componentWillUnmount=_this.componentWillUnmount.bind(ComposableFieldTextarea_assertThisInitialized(_this)),_this}return function ComposableFieldTextarea_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableFieldTextarea_setPrototypeOf(subClass,superClass)}(ComposableFieldTextarea,react_default.a.Component),function ComposableFieldTextarea_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableFieldTextarea_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableFieldTextarea_defineProperties(Constructor,staticProps),Constructor}(ComposableFieldTextarea,[{key:"componentDidMount",value:function componentDidMount(){this.props.afterMount&&this.props.afterMount()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.afterUnmount&&this.props.afterUnmount()}},{key:"render",value:function render(){return react_default.a.createElement(react_final_form_es.a,ComposableFieldTextarea_extends({component:"textarea",type:"text"},this.props.helpers.generateFieldAttributes(this.props)))}}]),ComposableFieldTextarea}();function ComposableFieldError_typeof(obj){return(ComposableFieldError_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}ComposableFieldTextarea_ComposableFieldTextarea.displayName="ComposableFieldTextarea",ComposableFieldTextarea_ComposableFieldTextarea.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldTextarea"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ComposableFieldTypes/ComposableFieldTextarea.jsx"]={name:"ComposableFieldTextarea",docgenInfo:ComposableFieldTextarea_ComposableFieldTextarea.__docgenInfo,path:"src/ComposableFieldTypes/ComposableFieldTextarea.jsx"});var ComposableFieldError=function(_ref){var name=_ref.name;return react_default.a.createElement(react_final_form_es.a,{name:name,subscription:{error:!0,touched:!0}},function(_ref2){var _ref2$meta=_ref2.meta,error=_ref2$meta.error,touched=_ref2$meta.touched;if(error&&touched){var message=error;return"object"===ComposableFieldError_typeof(error)&&(message=error[final_form_es.a]),react_default.a.createElement("span",{className:"error-block",dangerouslySetInnerHTML:{__html:message}})}return null})};ComposableFieldError.displayName="ComposableFieldError";var Composable_ComposableFieldError=ComposableFieldError;function ComposableField_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){ComposableField_defineProperty(target,key,source[key])})}return target}function ComposableField_typeof(obj){return(ComposableField_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableField_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableField_getPrototypeOf(o){return(ComposableField_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableField_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ComposableField_setPrototypeOf(o,p){return(ComposableField_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function ComposableField_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ComposableFieldError.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldError"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableFieldError.jsx"]={name:"ComposableFieldError",docgenInfo:ComposableFieldError.__docgenInfo,path:"src/Composable/ComposableFieldError.jsx"});var ComposableField_ref=react_default.a.createElement("abbr",{title:"required"},"* "),ComposableField_ComposableField=function(_React$Component){function ComposableField(){var _getPrototypeOf2,_this;!function ComposableField_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableField);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function ComposableField_possibleConstructorReturn(self,call){return!call||"object"!==ComposableField_typeof(call)&&"function"!=typeof call?ComposableField_assertThisInitialized(self):call}(this,(_getPrototypeOf2=ComposableField_getPrototypeOf(ComposableField)).call.apply(_getPrototypeOf2,[this].concat(args))),ComposableField_defineProperty(ComposableField_assertThisInitialized(_this),"standardiseData",function(data){var standardisedData=[];return"object"===ComposableField_typeof(data[0])?data:(data.map(function(datum){standardisedData.push({label:datum,value:datum})}),standardisedData)}),ComposableField_defineProperty(ComposableField_assertThisInitialized(_this),"getFieldTypeComponent",function(name){return ComposableField_objectSpread({},ComposableFieldTypes_namespaceObject,_this.context.settings.customFormFieldComponents)[name]}),_this}return function ComposableField_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableField_setPrototypeOf(subClass,superClass)}(ComposableField,react_default.a.Component),function ComposableField_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableField_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableField_defineProperties(Constructor,staticProps),Constructor}(ComposableField,[{key:"render",value:function render(){var component=this.props.component,field=ComposableField_objectSpread({},this.props.field);field.type=field.type||"string";var fieldType=field.type.replace(/_/g,""),capitalisedFirstType=fieldType.charAt(0).toUpperCase()+fieldType.slice(1),FieldTypeComponent=this.getFieldTypeComponent("ComposableField"+capitalisedFirstType),hideLabel=!1,wrapperClass=field.wrapperClass||"",fieldId=component.id+"__"+field.name;field.data&&field.data.length&&(field.data=this.standardiseData(field.data)),this.props.fieldName&&(field.name=this.props.fieldName),-1<["boolean","checkbox"].indexOf(fieldType)&&(hideLabel=!0);var isRequired=field.required||field.fieldAttributes&&field.fieldAttributes.required||field.validations&&-1<field.validations.indexOf("required");return FieldTypeComponent?react_default.a.createElement("div",{className:"control-group "+wrapperClass+" "+field.type},field.label&&!hideLabel&&react_default.a.createElement("label",{className:"control-label",htmlFor:fieldId},isRequired&&ComposableField_ref,field.label),!!field.hint&&react_default.a.createElement("div",{className:"hint-block"},field.hint),react_default.a.createElement("div",{className:"controls"},react_default.a.createElement(FieldTypeComponent,{fieldSettings:field,fieldIndex:this.props.componentIndex,value:component.data[field.name],id:fieldId,component:this.props.component,onFormChange:this.props.onFormChange,formValue:this.props.formValue,helpers:this.context.functions.fields})),react_default.a.createElement(Composable_ComposableFieldError,{name:field.name})):react_default.a.createElement("div",{className:"control-group control__unsupported"},react_default.a.createElement("p",null,"Unsupported field type: ",field.type))}}]),ComposableField}();function ComposableAdvancedSettings_typeof(obj){return(ComposableAdvancedSettings_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableAdvancedSettings_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableAdvancedSettings_possibleConstructorReturn(self,call){return!call||"object"!==ComposableAdvancedSettings_typeof(call)&&"function"!=typeof call?function ComposableAdvancedSettings_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableAdvancedSettings_getPrototypeOf(o){return(ComposableAdvancedSettings_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableAdvancedSettings_setPrototypeOf(o,p){return(ComposableAdvancedSettings_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableField_ComposableField.displayName="ComposableField",ComposableField_defineProperty(ComposableField_ComposableField,"contextType",ComposableContext),ComposableField_ComposableField.__docgenInfo={description:"",methods:[{name:"standardiseData",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null},{name:"getFieldTypeComponent",docblock:null,modifiers:[],params:[{name:"name",type:null}],returns:null}],displayName:"ComposableField"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableField.jsx"]={name:"ComposableField",docgenInfo:ComposableField_ComposableField.__docgenInfo,path:"src/Composable/ComposableField.jsx"});var ComposableAdvancedSettings_ref=react_default.a.createElement("p",null,react_default.a.createElement("strong",null,"Advanced Settings")),ComposableAdvancedSettings_ComposableAdvancedSettings=function(_React$Component){function ComposableAdvancedSettings(){return function ComposableAdvancedSettings_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableAdvancedSettings),ComposableAdvancedSettings_possibleConstructorReturn(this,ComposableAdvancedSettings_getPrototypeOf(ComposableAdvancedSettings).apply(this,arguments))}return function ComposableAdvancedSettings_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableAdvancedSettings_setPrototypeOf(subClass,superClass)}(ComposableAdvancedSettings,react_default.a.Component),function ComposableAdvancedSettings_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableAdvancedSettings_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableAdvancedSettings_defineProperties(Constructor,staticProps),Constructor}(ComposableAdvancedSettings,[{key:"render",value:function render(){return react_default.a.createElement("div",{className:"inputs"},ComposableAdvancedSettings_ref,this.context.settings.advancedSettings.map(function(field){return react_default.a.createElement("div",{className:"control-group",key:field.name},react_default.a.createElement("label",{className:"control-label"},field.label),field.hint&&react_default.a.createElement("p",{className:"hint-block"},field.hint),react_default.a.createElement("div",{className:"controls"},react_default.a.createElement(react_final_form_es.a,{name:field.name,component:"input",className:field.className||"form--medium",type:"text"})))}),react_default.a.createElement("div",null,react_default.a.createElement("button",{onClick:this.props.closeAdvanced,className:"button__primary"},"‹ Close advanced settings")))}}]),ComposableAdvancedSettings}();ComposableAdvancedSettings_ComposableAdvancedSettings.displayName="ComposableAdvancedSettings",function ComposableAdvancedSettings_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(ComposableAdvancedSettings_ComposableAdvancedSettings,"contextType",ComposableContext),ComposableAdvancedSettings_ComposableAdvancedSettings.__docgenInfo={description:"",methods:[],displayName:"ComposableAdvancedSettings"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableAdvancedSettings.jsx"]={name:"ComposableAdvancedSettings",docgenInfo:ComposableAdvancedSettings_ComposableAdvancedSettings.__docgenInfo,path:"src/Composable/ComposableAdvancedSettings.jsx"});var ComposableFieldCondition_ref3=react_default.a.createElement("div",null,"Error: Malformed conditional, doesn't have `when` and `is` properties."),ComposableFieldCondition=function(_ref){var field=_ref.field,children=_ref.children;return field.condition?field.condition.when&&field.condition.is?react_default.a.createElement(react_final_form_es.a,{name:field.condition.when,subscription:{value:!0}},function(_ref2){return _ref2.input.value===field.condition.is?children:null}):react_default.a.createElement("div",null,ComposableFieldCondition_ref3,children):children},Composable_ComposableFieldCondition=ComposableFieldCondition;function ComposableComponent_extends(){return(ComposableComponent_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ComposableComponent_typeof(obj){return(ComposableComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableComponent_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){ComposableComponent_defineProperty(target,key,source[key])})}return target}function ComposableComponent_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableComponent_getPrototypeOf(o){return(ComposableComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableComponent_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ComposableComponent_setPrototypeOf(o,p){return(ComposableComponent_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function ComposableComponent_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ComposableFieldCondition.__docgenInfo={description:"",methods:[],displayName:"ComposableFieldCondition"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableFieldCondition.jsx"]={name:"ComposableFieldCondition",docgenInfo:ComposableFieldCondition.__docgenInfo,path:"src/Composable/ComposableFieldCondition.jsx"});var ComposableComponent_ComposableComponent=function(_React$Component){function ComposableComponent(_props){var _this;return function ComposableComponent_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableComponent),_this=function ComposableComponent_possibleConstructorReturn(self,call){return!call||"object"!==ComposableComponent_typeof(call)&&"function"!=typeof call?ComposableComponent_assertThisInitialized(self):call}(this,ComposableComponent_getPrototypeOf(ComposableComponent).call(this,_props)),ComposableComponent_defineProperty(ComposableComponent_assertThisInitialized(_this),"toggleAdvanced",function(){_this.setState({advancedVisible:!_this.state.advancedVisible})}),ComposableComponent_defineProperty(ComposableComponent_assertThisInitialized(_this),"closeAdvanced",function(){_this.setState({advancedVisible:!1})}),ComposableComponent_defineProperty(ComposableComponent_assertThisInitialized(_this),"onAdvancedFormChange",function(props){var composition=ComposableComponent_objectSpread({},_this.context.state.composition);composition[_this.context.state.group][_this.props.index].advanced=props.values,_this.context.functions.composition.replaceComposition(composition)}),ComposableComponent_defineProperty(ComposableComponent_assertThisInitialized(_this),"onFormChange",function(props){var composition=ComposableComponent_objectSpread({},_this.context.state.composition);composition[_this.context.state.group][_this.props.index].data=props.values,_this.context.functions.composition.replaceComposition(composition)}),ComposableComponent_defineProperty(ComposableComponent_assertThisInitialized(_this),"validateForm",function(){_this.form.handleSubmit(),!_this.form.state.state.valid&&_this.props.component.component_collapsed&&_this.context.functions.components.collapseComponent(_this.props.index,"show")}),_this.state={advancedVisible:!1},_this.onFormChange=_this.onFormChange.bind(ComposableComponent_assertThisInitialized(_this)),_this.validateForm=_this.validateForm.bind(ComposableComponent_assertThisInitialized(_this)),_this.toggleAdvanced=_this.toggleAdvanced.bind(ComposableComponent_assertThisInitialized(_this)),_this.closeAdvanced=_this.closeAdvanced.bind(ComposableComponent_assertThisInitialized(_this)),_this.onAdvancedFormChange=_this.onAdvancedFormChange.bind(ComposableComponent_assertThisInitialized(_this)),_this}return function ComposableComponent_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableComponent_setPrototypeOf(subClass,superClass)}(ComposableComponent,react_default.a.Component),function ComposableComponent_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableComponent_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableComponent_defineProperties(Constructor,staticProps),Constructor}(ComposableComponent,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("composable-content:validate",this.validateForm)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("composable-content:validate",this.validateForm)}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,component=_this$props.component,index=_this$props.index,template=_this$props.template,contextSettings=this.context.settings,contextState=this.context.state,functions=this.context.functions,hasFields=template&&template.fields&&template.fields.length,preview="";if(hasFields&&template.primary){var primaryField=template.primary,primaryFieldSettings=template.fields.filter(function(field){return field.name===primaryField})[0];if(preview=component.data[primaryField]||!1,primaryFieldSettings.data){var object=primaryFieldSettings.data.filter(function(datum){return datum.value+""==preview+""})[0];object&&object.label&&(preview=object.label)}"object"===ComposableComponent_typeof(preview)&&(preview="[object]"),120<preview.length&&(preview=preview.slice(0,120))}var componentMessage=!1;if(!hasFields||this.props.template.message){var componentMessageClass="composable--component--message panel--padding content",componentMessageContent=this.props.template.message;hasFields||componentMessageContent||(componentMessageContent="<p>This component doesn't require configuration.</p>"),"passive"===this.props.template.messageType&&(componentMessageClass+=" bg__passive"),"<"!==componentMessageContent.trim()[0]&&(componentMessageContent="<p>".concat(componentMessageContent,"</p>")),componentMessage=react_default.a.createElement("div",{className:componentMessageClass,dangerouslySetInnerHTML:{__html:componentMessageContent}})}var _ref=react_default.a.createElement("div",{className:"composable--component--preview grey small"},react_default.a.createElement("div",null,react_default.a.createElement("span",null,preview)));return react_default.a.createElement(react_beautiful_dnd_esm.b,{key:component.id,draggableId:component.id,index:index},function(draggableProvided,draggableSnapshot){return react_default.a.createElement("div",ComposableComponent_extends({ref:draggableProvided.innerRef,"data-component-id":component.id,className:"composable--component--wrapper"},draggableProvided.draggableProps),react_default.a.createElement("div",{className:"\n                composable--component \n                composable--component__".concat(component.component_type,"\n                ").concat(draggableSnapshot.isDragging?"composable--component__dragging":""," \n                ").concat(component.component_collapsed?"composable--component__collapsed":""," \n                ").concat(component.component_draft?"composable--component__draft":""," \n                ").concat(_this2.state.advancedVisible?"composable--component__advanced":""," \n              ")},component.component_draft&&react_default.a.createElement("div",{className:"composable--component--draft-banner"},functions.composition.getLangString("draftModeBanner","Draft mode")),react_default.a.createElement("div",{className:"composable--component--meta"},react_default.a.createElement("div",{className:"composable--component--meta--label"},contextSettings.icons&&react_default.a.createElement(react_default.a.Fragment,null,_this2.props.template.icon&&contextSettings.icons[_this2.props.template.icon]?react_default.a.createElement("div",{className:"composable--component--meta--label-icon",dangerouslySetInnerHTML:{__html:contextSettings.icons[_this2.props.template.icon]}}):react_default.a.createElement("div",{className:"composable--component--meta--label-icon",dangerouslySetInnerHTML:{__html:contextSettings.icons.module}})),react_default.a.createElement("strong",null,template.label||template.name||component.section_type)),_ref,contextSettings.advancedSettings&&react_default.a.createElement("button",{type:"button",onClick:function onClick(){return _this2.toggleAdvanced()},title:_this2.state.advancedVisible?"Hide advanced settings":"Show advanced settings",className:"composable--component--meta--section composable--component--meta--section__advanced composable--component--meta--icon disable-mouse-outline"},functions.components.getIcon("cog","Advanced")),functions.composition.hasDraftMode()&&react_default.a.createElement("button",{type:"button",className:"composable--component--meta--section composable--component--meta--section__draft composable--component--meta--icon disable-mouse-outline",onClick:function onClick(){return functions.components.draftComponent(index)},title:component.component_draft?"Disable draft mode":"Enable draft mode"},component.component_draft?react_default.a.createElement(react_default.a.Fragment,null,functions.components.getIcon("hidden","Publish")):react_default.a.createElement(react_default.a.Fragment,null,functions.components.getIcon("visible","Draft"))),react_default.a.createElement("button",{type:"button",onClick:function onClick(){return functions.composition.removeComponent(component)},className:"composable--component--meta--section composable--component--meta--text-action disable-mouse-outline","aria-label":"Remove this component"},functions.composition.getLangString("remove","Remove")),react_default.a.createElement("button",{type:"button",className:"composable--component--meta--section composable--component--meta--collapser disable-mouse-outline",onClick:function onClick(){return functions.components.collapseComponent(index)}}),react_default.a.createElement("div",ComposableComponent_extends({className:"composable--component--meta--section composable--component--meta--drag"},draggableProvided.dragHandleProps),"☰")),!component.component_collapsed&&_this2.state.advancedVisible&&react_default.a.createElement("div",{className:"composable--component--advanced panel--padding"},react_default.a.createElement(react_final_form_es.b,{onSubmit:function onSubmit(){return!1},ref:function ref(el){return _this2.advancedForm=el},initialValues:contextState.composition[contextState.group][_this2.props.index].advanced,render:function render(_ref2){_ref2.handleSubmit,_ref2.form,_ref2.values;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(react_final_form_es.c,{subscription:{values:!0},onChange:_this2.onAdvancedFormChange}),react_default.a.createElement(ComposableAdvancedSettings_ComposableAdvancedSettings,{closeAdvanced:_this2.closeAdvanced}))}})),react_default.a.createElement(react_final_form_es.b,{onSubmit:function onSubmit(){return!1},mutators:ComposableComponent_objectSpread({},final_form_arrays_es.a),ref:function ref(el){return _this2.form=el},initialValues:contextState.composition[contextState.group][_this2.props.index].data,validate:function validate(values){return template&&template.fields?functions.components.validateComponent(template,values):void 0},render:function render(_ref3){_ref3.handleSubmit,_ref3.form,_ref3.submitting,_ref3.pristine;var values=_ref3.values;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(react_final_form_es.c,{subscription:{values:!0},onChange:_this2.onFormChange}),react_default.a.createElement("div",{style:{display:component.component_collapsed||_this2.state.advancedVisible?"none":"block"}},!template&&react_default.a.createElement("div",{className:"composable--component--body"},react_default.a.createElement("div",{className:"panel__error panel--padding"},"Unknown component type: ",component.component_type)),componentMessage,hasFields&&react_default.a.createElement("div",{className:"composable--component--body"},react_default.a.createElement("div",{className:"inputs"},react_default.a.createElement(react_final_form_es.a,{name:"componentError",subscription:{error:!0,touched:!0}},function(_ref4){var _ref4$meta=_ref4.meta,error=_ref4$meta.error;_ref4$meta.touched;return error?react_default.a.createElement("div",{className:"panel__error panel--padding"},react_default.a.createElement("span",{className:"error-block",dangerouslySetInnerHTML:{__html:error}})):null}),template.fields.map(function(field){return react_default.a.createElement(Composable_ComposableFieldCondition,{field:field,key:"".concat(component.id,"_").concat(field.name)},react_default.a.createElement(ComposableField_ComposableField,{key:"".concat(component.id,"_").concat(field.name),onFormChange:_this2.onFormChange,formValue:values,componentIndex:_this2.props.index,component:component,field:field}))})))))}})))})}}]),ComposableComponent}();function ComposableComposition_typeof(obj){return(ComposableComposition_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableComposition_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableComposition_possibleConstructorReturn(self,call){return!call||"object"!==ComposableComposition_typeof(call)&&"function"!=typeof call?function ComposableComposition_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableComposition_getPrototypeOf(o){return(ComposableComposition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableComposition_setPrototypeOf(o,p){return(ComposableComposition_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableComponent_ComposableComponent.displayName="ComposableComponent",ComposableComponent_defineProperty(ComposableComponent_ComposableComponent,"contextType",ComposableContext),ComposableComponent_ComposableComponent.__docgenInfo={description:"",methods:[{name:"toggleAdvanced",docblock:null,modifiers:[],params:[],returns:null},{name:"closeAdvanced",docblock:null,modifiers:[],params:[],returns:null},{name:"onAdvancedFormChange",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"onFormChange",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"validateForm",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ComposableComponent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableComponent.jsx"]={name:"ComposableComponent",docgenInfo:ComposableComponent_ComposableComponent.__docgenInfo,path:"src/Composable/ComposableComponent.jsx"});var ComposableComposition_ComposableComposition=function(_React$Component){function ComposableComposition(){return function ComposableComposition_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableComposition),ComposableComposition_possibleConstructorReturn(this,ComposableComposition_getPrototypeOf(ComposableComposition).apply(this,arguments))}return function ComposableComposition_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableComposition_setPrototypeOf(subClass,superClass)}(ComposableComposition,react_default.a.Component),function ComposableComposition_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableComposition_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableComposition_defineProperties(Constructor,staticProps),Constructor}(ComposableComposition,[{key:"render",value:function render(){var _this$context=this.context,state=(_this$context.settings,_this$context.state),functions=_this$context.functions;return 0===state.composition[this.props.groupKey].length?react_default.a.createElement("div",{className:"composable--composition--empty"},functions.composition.getLangString("emptyComposition","Drag a component here to start.")):state.composition[this.props.groupKey].map(function(component,index){return react_default.a.createElement(ComposableComponent_ComposableComponent,{key:component.id,component:component,index:index,template:functions.components.getTemplateForComponent(component.component_type)})})}}]),ComposableComposition}();function ComposableGroupItem_typeof(obj){return(ComposableGroupItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ComposableGroupItem_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ComposableGroupItem_possibleConstructorReturn(self,call){return!call||"object"!==ComposableGroupItem_typeof(call)&&"function"!=typeof call?function ComposableGroupItem_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ComposableGroupItem_getPrototypeOf(o){return(ComposableGroupItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ComposableGroupItem_setPrototypeOf(o,p){return(ComposableGroupItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableComposition_ComposableComposition.displayName="ComposableComposition",function ComposableComposition_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(ComposableComposition_ComposableComposition,"contextType",ComposableContext),ComposableComposition_ComposableComposition.__docgenInfo={description:"",methods:[],displayName:"ComposableComposition"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableComposition.jsx"]={name:"ComposableComposition",docgenInfo:ComposableComposition_ComposableComposition.__docgenInfo,path:"src/Composable/ComposableComposition.jsx"});var ComposableGroupItem_ComposableGroupItem=function(_React$Component){function ComposableGroupItem(){return function ComposableGroupItem_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComposableGroupItem),ComposableGroupItem_possibleConstructorReturn(this,ComposableGroupItem_getPrototypeOf(ComposableGroupItem).apply(this,arguments))}return function ComposableGroupItem_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ComposableGroupItem_setPrototypeOf(subClass,superClass)}(ComposableGroupItem,react_default.a.Component),function ComposableGroupItem_createClass(Constructor,protoProps,staticProps){return protoProps&&ComposableGroupItem_defineProperties(Constructor.prototype,protoProps),staticProps&&ComposableGroupItem_defineProperties(Constructor,staticProps),Constructor}(ComposableGroupItem,[{key:"render",value:function render(){var _this=this,_this$context=this.context,state=(_this$context.settings,_this$context.state),functions=_this$context.functions,composition=state.composition[this.props.groupKey],hasSection=composition.length&&0<composition.filter(function(component){return"section"===component.component_type}).length;return react_default.a.createElement(react_beautiful_dnd_esm.a,{onDragStart:functions.dnd.onDragStart,onDragUpdate:functions.dnd.onDragUpdate,onDragEnd:function onDragEnd(result,provided){return functions.dnd.onDragEnd(result,provided,_this.props.groupKey)}},react_default.a.createElement("div",{className:"composable--header"},react_default.a.createElement("button",{type:"button",onClick:function onClick(){return functions.components.collapseAllComponents(!0)}},functions.composition.getLangString("collapseAll","Collapse All")),react_default.a.createElement("button",{type:"button",onClick:function onClick(){return functions.components.collapseAllComponents()}},functions.composition.getLangString("revealAll","Reveal All"))),react_default.a.createElement("div",{className:"composable ".concat(hasSection?"composable__with-sections":"")},react_default.a.createElement("div",{className:"composable--composition"},react_default.a.createElement(react_beautiful_dnd_esm.c,{droppableId:"composition",ignoreContainerClipping:!0},function(compositionProvided,compositionSnapshot){return react_default.a.createElement("div",{ref:compositionProvided.innerRef,className:"".concat(compositionSnapshot.isDraggingOver?"composable--composition--drag-space":"")},react_default.a.createElement(ComposableComposition_ComposableComposition,{groupKey:_this.props.groupKey}),compositionProvided.placeholder)})),react_default.a.createElement(ComposableLibrary_ComposableLibrary,{composableTypes:functions.composition.getConfig()[this.props.groupKey]})))}}]),ComposableGroupItem}();function Composable_typeof(obj){return(Composable_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Composable_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Composable_possibleConstructorReturn(self,call){return!call||"object"!==Composable_typeof(call)&&"function"!=typeof call?function Composable_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Composable_getPrototypeOf(o){return(Composable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Composable_setPrototypeOf(o,p){return(Composable_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}ComposableGroupItem_ComposableGroupItem.displayName="ComposableGroupItem",function ComposableGroupItem_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(ComposableGroupItem_ComposableGroupItem,"contextType",ComposableContext),ComposableGroupItem_ComposableGroupItem.__docgenInfo={description:"",methods:[],displayName:"ComposableGroupItem"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/ComposableGroupItem.jsx"]={name:"ComposableGroupItem",docgenInfo:ComposableGroupItem_ComposableGroupItem.__docgenInfo,path:"src/Composable/ComposableGroupItem.jsx"});var Composable_ref2=react_default.a.createElement("div",{className:"panel--padding"},react_default.a.createElement("h2",{className:"heading-four"},"Data")),Composable_ref3=react_default.a.createElement("p",null,"It's possible the data structure has a required change, press this button to delete all composable data for this record to bring it back to a usable default state."),Composable_ref4=react_default.a.createElement("p",null,"Once emptied, save the form to continue."),_ref5=react_default.a.createElement("p",null,react_default.a.createElement("strong",null,"Debug:")),Composable_Composable=function(_React$Component){function Composable(){return function Composable_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Composable),Composable_possibleConstructorReturn(this,Composable_getPrototypeOf(Composable).apply(this,arguments))}return function Composable_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Composable_setPrototypeOf(subClass,superClass)}(Composable,react_default.a.Component),function Composable_createClass(Constructor,protoProps,staticProps){return protoProps&&Composable_defineProperties(Constructor.prototype,protoProps),staticProps&&Composable_defineProperties(Constructor,staticProps),Constructor}(Composable,[{key:"render",value:function render(){return react_default.a.createElement(ComposableContext_ComposableProvider,this.props,react_default.a.createElement(ComposableContext.Consumer,null,function(_ref){var settings=_ref.settings,state=_ref.state,functions=_ref.functions;return state.error?react_default.a.createElement("div",{className:"composable--composition--error panel-spacing"},react_default.a.createElement("div",{className:"panel__error panel__border panel--padding"},react_default.a.createElement("h2",{className:"heading-four"},"There was an error rendering composable content: ",state.error.error.toString()),react_default.a.createElement("pre",null,state.error.info.componentStack)),react_default.a.createElement("div",{className:"panel panel__border"},Composable_ref2,react_default.a.createElement("div",{className:"panel--padding panel--border-top bg__passive",style:{maxHeight:"200px",overflow:"auto"}},react_default.a.createElement("pre",null,JSON.stringify(state.composition,null,2)),react_default.a.createElement("input",{type:"hidden",name:settings.formFieldName,value:JSON.stringify(state.composition),readOnly:!0})),react_default.a.createElement("div",{className:"panel--padding panel--border-top spacing-xxx-tight"},Composable_ref3,react_default.a.createElement("div",null,react_default.a.createElement("button",{type:"button",onClick:functions.composition.deleteAllData,className:"button__cancel"},"Empty data")),Composable_ref4))):react_default.a.createElement("div",{className:"composable-group",ref:function ref(element){return functions.setRef("$composition",element)}},functions.composition.hasGroups()&&react_default.a.createElement("div",{className:"tabs--links tabs--link__inpage"},react_default.a.createElement("ul",null,functions.composition.getGroups().map(function(groupKey){return react_default.a.createElement("li",{key:groupKey},react_default.a.createElement("button",{type:"button",className:"tabs--link ".concat(state.group===groupKey?"active":""),onClick:function onClick(){return functions.composition.setGroup(groupKey)}},groupKey))}))),react_default.a.createElement(ComposableGroupItem_ComposableGroupItem,{groupKey:state.group,config:settings.config}),state.debug&&react_default.a.createElement("div",{className:"composable--fields--debug spacing-xxx-tight"},_ref5,react_default.a.createElement("pre",null,"data: ",JSON.stringify(state.composition,null,2))),react_default.a.createElement("input",{type:"hidden",name:settings.formFieldName,value:JSON.stringify(state.composition),readOnly:!0}))}))}}]),Composable}();function sectionifier_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){sectionifier_defineProperty(target,key,source[key])})}return target}function sectionifier_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function sectionifier(){var composition=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},formatted=(1<arguments.length&&void 0!==arguments[1]&&arguments[1],{});return Object.keys(composition).forEach(function(key){formatted[key]=function sectionifyGroup(composition){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},includeDrafts=options.includeDrafts||!1,defaultSection=options.defaultSection||"container",draftChildrenOfDraftedSections=options.draftChildrenOfDraftedSections||!1,formatted=[],currentSection=!1;return composition.forEach(function(_component){var component=sectionifier_objectSpread({},_component);!includeDrafts&&component.component_draft||(!currentSection&&"section"!==component.component_type&&(currentSection={section_type:defaultSection,section_data:[]}),"section"===component.component_type?(currentSection&&formatted.push(sectionifier_objectSpread({},currentSection)),currentSection={section_type:component.data.section_type||defaultSection,section_data:[],section_draft:component.component_draft,advanced:component.advanced||[]}):(draftChildrenOfDraftedSections&&currentSection.section_draft&&(component.component_draft=currentSection.section_draft),delete component.component_collapsed,currentSection.section_data.push(component)))}),currentSection&&0>formatted.indexOf(currentSection)&&formatted.push(currentSection),formatted}(composition[key])}),formatted}Composable_Composable.displayName="Composable",Composable_Composable.__docgenInfo={description:"",methods:[],displayName:"Composable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Composable/Composable.jsx"]={name:"Composable",docgenInfo:Composable_Composable.__docgenInfo,path:"src/Composable/Composable.jsx"}),__webpack_require__.d(__webpack_exports__,"b",function(){return sectionifier});__webpack_exports__.a=Composable_Composable}},[[218,1,2]]]);
//# sourceMappingURL=main.1e712138af7577d788ec.bundle.js.map